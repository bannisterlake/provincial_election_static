(this["webpackJsonpelections-provincial"]=this["webpackJsonpelections-provincial"]||[]).push([[0],{258:function(t,e,a){},259:function(t,e,a){},37:function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));var n=a(53),r=a(13),c=a(0),i=a(26),o=a(1),s=Object(c.createContext)(null),l={full:null,party:null,declaration:null,config:null,counter:0};e.b=function(t){var e=Object(c.useState)(l),a=Object(r.a)(e,2),d=a[0],j=a[1],p=Object(i.f)(),u=p.prov,b=p.year;return Object(c.useEffect)((function(){console.log("data context"),function(){var t=b||"2020",e=u||"nb";Promise.all([fetch("data/".concat(e,"/data/").concat(t,"/").concat(e,"_ridingResults.json")).then((function(t){return t.json()})).then((function(t){return t})).catch((function(t){alert("error fetching riding results")})),fetch("data/".concat(e,"/data/").concat(t,"/").concat(e,"_partyResults.json")).then((function(t){return t.json()})).then((function(t){return t})).catch((function(t){alert("error fetching party results")})),fetch("data/".concat(e,"/data/").concat(t,"/").concat(e,"_declaration.json")).then((function(t){return t.json()})).then((function(t){return t})).catch((function(t){alert("error fetching declaration results")})),fetch("data/".concat(e,"/data/").concat(t,"/").concat(e,"_config.json")).then((function(t){return t.json()})).then((function(t){return t})).catch((function(t){alert("Please add election config")}))]).then((function(t){j((function(e){return Object(n.a)(Object(n.a)({},e),{},{type:"SET_INITIAL",full:t[0],party:t[1],declaration:t[2],config:t[3]})}))})).catch((function(t){console.log("error",t)}))}()}),[]),Object(c.useEffect)((function(){var t;return d.config&&(console.log("updating every "+(d.config.timer?d.config.timer:3e4)+"ms"),t=setInterval((function(){!function(){var t=b||"2020",e=u||"nb";console.log("fetching data"),Promise.all([fetch("data/".concat(e,"/data/").concat(t,"/").concat(e,"_ridingResults.json"),{cache:"no-cache"}).then((function(t){return t.json()})).then((function(t){return t})).catch((function(t){alert("error fetching riding results")})),fetch("data/".concat(e,"/data/").concat(t,"/").concat(e,"_partyResults.json"),{cache:"no-cache"}).then((function(t){return t.json()})).then((function(t){return t})).catch((function(t){alert("error fetching party results")})),fetch("data/".concat(e,"/data/").concat(t,"/").concat(e,"_declaration.json"),{cache:"no-cache"}).then((function(t){return t.json()})).then((function(t){return t})).catch((function(t){alert("error fetching declaration results")}))]).then((function(t){j((function(e){return Object(n.a)(Object(n.a)({},e),{},{type:"SET_INITIAL",full:t[0],party:t[1],declaration:t[2]})}))})).catch((function(t){console.log("error",t)}))}()}),d.config.timer?d.config.timer:3e4)),function(){clearInterval(t)}}),[d.config]),Object(o.jsx)(s.Provider,{value:{data:d},children:t.children})}},431:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),c=a(23),i=a.n(c),o=(a(258),a(13)),s=(a(259),a(60)),l=a(26),d=a(471),j=a(479),p=a(476),u=a(481),b=a(97),f=a(462),h=a(37),x=a(53),m=a(116),g=a(1),O=["color","votes"],y=Object(f.a)({meter:function(t){return{width:"100%",position:"relative",marginTop:14}},bar:{background:function(t){return t.color},width:function(t){return t.votes},borderRadius:"0px 5px 5px 0px",height:5,margin:1},majorityLine:{position:"absolute",height:"120%",bottom:-2,borderLeft:function(t){return t.small?"1px solid black":"2px solid black"}},majorityLabel:function(t){return{position:"absolute",marginTop:t.small?-14:-18,paddingRight:5,fontSize:12,fontWeight:"bolder",transform:"translate(-7px, -1px)"}}});function v(t){t.color,t.votes;var e=Object(m.a)(t,O),a=y(t);return Object(g.jsx)("div",Object(x.a)({className:a.bar},e))}var N=function(t){var e=Object(n.useState)(25),a=Object(o.a)(e,2),r=a[0],c=a[1],i=Object(n.useState)(0),s=Object(o.a)(i,2),l=(s[0],s[1],Object(n.useState)(50)),d=Object(o.a)(l,2),j=d[0],p=d[1],u=Object(n.useState)(0),b=Object(o.a)(u,2),f=(b[0],b[1],y(t));return Object(n.useEffect)((function(){if(t.data){var e=t.data.partyResults[0];e.seats>=t.majority?(c(e.seats),p(t.majority/e.seats*100)):(c(t.majority),p(t.majority/t.majority*100))}}),[t.data,t.seatTotal,t.majority]),Object(g.jsxs)("div",{className:f.meter,children:[Object(g.jsx)("div",{className:f.majorityLabel,style:{left:"".concat(j,"%"),top:0},children:t.majority}),t.data&&t.data.partyResults.map((function(t,e){if(e<4)return Object(g.jsx)(v,{color:t.color,votes:t.seats>0?"".concat(t.seats/r*100,"%"):"2%"},e)})),Object(g.jsx)("div",{className:f.majorityLine,style:{left:"".concat(j,"%")}})]})},S=Object(f.a)({seatApp:{height:250,position:"relative",backgroundColor:"#ededf0",padding:10},main:{display:"flex",position:"relative",flexDirection:"column",height:"100%"},left:{flex:4},titleRow:{display:"flex",flex:"1",paddingBottom:5,justifyContent:"space-between"},title:function(t){return{fontSize:t.small?18:24,fontWeight:"bold",paddingRight:20}},majorityMeter:function(t){return{display:"flex",alignItems:"center",textAlign:"right",fontSize:12,flex:1}},declarationText:{paddingTop:5,"& #party":{fontWeight:"bold"},"& #majority":{fontSize:14}},seatContainer:{flex:"3",position:"relative",overflow:"hidden",flexGrow:3},seatMap:{display:"flex",flexDirection:"column-reverse",flexWrap:"wrap",height:"100%",position:"relative"},partyMap:{display:"flex",flex:"2",justifyContent:"flex-start",padding:"5px 0px",overflowX:"auto"},seat:{height:"15%",margin:"0.1%",flexShrink:1,paddingBottom:5},partyContainer:{flex:1,width:"20%",paddingTop:5,display:"flex",alignItems:"center",fontWeight:"bold",fontSize:14,letterSpacing:2,padding:"5px 5px",margin:1,borderRadius:5,color:"white",justifyItems:"center",justifyContent:"space-between","& #partySeatsTotal":{fontSize:18}},popVote:{padding:"5px 0px",fontWeight:"bold",fontSize:20},update:{fontSize:10}});function R(){var t=Object(n.useContext)(h.a).data,e=Object(n.useState)([]),a=Object(o.a)(e,2),r=a[0],c=a[1],i=Object(n.useState)([]),s=Object(o.a)(i,2),l=s[0],d=s[1],j=S(),p=new Date;Object(n.useEffect)((function(){if(t.party){var e=0;if(c([]),d([]),t.party.partyResults.map((function(a,n){for(var r=function(t){e++,c((function(e){return[].concat(Object(b.a)(e),[{party:a.nameShort,id:t,color:a.color}])}))},i=0;i<a.seats;i++)r(i);n<=t.party.partyResults.length-1&&n>4&&!a.seats||d((function(t){return[].concat(Object(b.a)(t),[{partyName:a.nameShort,id:n,seats:a.seats,color:a.color,votesPercent:a.votesPercent,votesTotal:a.votes}])}))})),e<t.config.seats)for(var a=function(t){c((function(e){return[].concat(Object(b.a)(e),[{party:"none",id:t,color:"#e0e0e0"}])}))},n=0;n<t.config.seats-e;n++)a(n)}}),[t]);var u=function(t){return console.log("seat"),Object(g.jsx)("div",{className:j.seat,style:{backgroundColor:t.color}},"".concat(t.party,"-").concat(t.el))},f=function(){var e,a,n=!1;return t.party.partyResults[0].seats>t.party.partyResults[1].seats&&(e=t.party.partyResults[0].name,n=!0),t.declaration.overallResult.resultText&&(a="elected "+t.declaration.overallResult.resultText),Object(g.jsxs)("div",{id:"declarationText",className:j.declarationText,children:[n&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("span",{id:"party",children:[e,"s"]}),Object(g.jsx)("span",{id:"helpertext",children:" leading "}),a&&Object(g.jsx)("span",{children:"and elected"}),Object(g.jsx)("span",{children:" - "})]}),Object(g.jsxs)("span",{id:"majority",children:[t.config.majority," seats needed for majority"]})]})},x=function(t){var e=t.party;return Object(g.jsxs)("div",{id:"partyCard",className:j.partyContainer,style:{backgroundColor:e.color},children:[Object(g.jsx)("div",{children:e.partyName}),Object(g.jsxs)("div",{id:"popVote",className:j.popVote,children:[" ",e.seats," "]})]},e.id)};return Object(g.jsx)("div",{className:j.seatApp,children:t.party&&r&&l&&Object(g.jsxs)("div",{className:j.main,children:[Object(g.jsxs)("div",{className:j.titleRow,id:"widgetTitleRow",children:[Object(g.jsxs)("div",{className:j.left,children:[Object(g.jsx)("div",{id:"widgetTitle",className:j.title,children:t.config.title}),Object(g.jsx)(f,{})]}),Object(g.jsx)("div",{className:j.majorityMeter,children:Object(g.jsx)(N,{seatTotal:t.config.total,majority:t.config.majority,majorityPercent:t.config.majority/t.config.total*100,data:t.party})})]}),Object(g.jsx)("div",{className:j.seatContainer,children:Object(g.jsxs)("div",{className:j.seatMap,children:[console.log(r),r.map((function(t,e){return Object(g.jsx)(u,{party:t.party,el:t.id,color:t.color},t.party+"-"+e)}))]})}),Object(g.jsx)("div",{className:j.partyMap,children:l.map((function(t){return Object(g.jsx)(x,{party:t},t.id)}))}),Object(g.jsxs)("div",{className:j.update,children:["Last updated: ",p&&p.toString()]})]})})}var w,C=a(467),T=a(478),k=a(241),L=a(237),z=a(115),D=(a(264),Object(f.a)({partyContainer:function(t){return{backgroundColor:t.party.color,padding:5,maxHeight:40,margin:3,borderRadius:5,color:"white",fontWeight:"bold",letterSpacing:1,display:"flex",justifyContent:"space-between"}}})),I=function(t){var e=D(t);return Object(g.jsxs)("div",{className:e.partyContainer,children:[Object(g.jsx)("div",{children:t.party.nameShort}),Object(g.jsxs)("div",{children:[t.result>0&&"+",t.result]})]})},B=a(68),W=Object(f.a)({partyContainer:(w={alignItems:"center",height:25,margin:3,position:"relative",width:"80%",color:"black",fontWeight:"bold",letterSpacing:1,display:"flex"},Object(B.a)(w,"position","relative"),Object(B.a)(w,"justifyContent","space-between"),Object(B.a)(w,"borderBottom","1px solid black"),Object(B.a)(w,"& #minus",{position:"absolute",left:function(t){return t.small?-10:-15},fontWeight:"bolder"}),Object(B.a)(w,"& #plus",{position:"absolute",right:function(t){return t.small?-10:-15},fontWeight:"bolder"}),w),gainsBar:{backgroundColor:function(t){return t.color},position:"absolute",bottom:0,right:function(t){return t.width<=0&&"50%"},left:function(t){return t.width>0&&"50%"},height:"60%",borderWidth:"1px",borderStyle:"solid",borderColor:function(t){return t.color},margin:0,padding:0,transition:"width 300ms ease-in-out",transitionDelay:"100ms"}}),P=function(t){var e=W(t),a=Object(n.useState)(0),r=Object(o.a)(a,2),c=r[0],i=r[1];return Object(n.useEffect)((function(){i(t.width)}),[t]),Object(g.jsxs)("div",{className:e.partyContainer,children:[Object(g.jsx)("div",{id:"minus",children:"-"}),Object(g.jsx)("div",{style:{width:"".concat(Math.abs(c),"%")},className:e.gainsBar}),Object(g.jsx)("div",{id:"plus",children:"+"})]})},A=Object(f.a)({gainsDiv:{flex:function(t){return t.small?4:5},display:"flex",flexDirection:"column",alignItems:"center",position:"relative",justifyContent:"center"},centerBar:{position:"absolute",borderLeft:"1px solid black",left:"50%",height:"97%",zIndex:20}}),E=function(t){var e=Object(n.useState)(0),a=Object(o.a)(e,2),r=a[0],c=a[1],i=A(t);return Object(n.useEffect)((function(){var e=0;t.data&&(t.data.partyResults.forEach((function(t){Math.abs(t.seatChange)>e&&(e=Math.abs(t.seatChange))})),c(e))}),[t.data]),Object(g.jsxs)("div",{className:i.gainsDiv,children:[Object(g.jsx)("div",{className:i.centerBar}),t.data&&t.data.partyResults.map((function(e,a){var n=0;return 0!==r&&(n=e.seatChange/(r+1)*100),t.data.partyResults.length>6?a<5||a===t.data.partyResults.length-1?Object(g.jsx)(P,{color:e.color,small:t.small,width:"".concat(n/2)},a):void 0:Object(g.jsx)(P,{color:e.color,small:t.small,width:"".concat(n/2)},a)}))]})},M=a(191),H=a.n(M),_=Object(f.a)({root:{display:"flex",alignItems:"center",paddingBottom:5,fontWeight:"bolder",alignSelf:"flex-start",fontSize:14,paddingLeft:5,"& svg":{color:"green",fontSize:20,paddingRight:5}}}),F=function(t){var e=_();return Object(g.jsxs)("div",{className:t.declarationText&&e.root,children:[Object(g.jsx)(H.a,{color:"green"}),t.declarationText]})},V=a(466),G=a(432),J=Object(f.a)({main:{fontSize:function(t){return t.small&&12},display:"flex",position:"relative",flexDirection:"column",padding:5,backgroundColor:"#ededf0",alignContent:"center",height:260},topDiv:{display:"flex",justifyContent:"space-between",borderBottom:"1px solid grey"},declarationDiv:{flex:2,alignSelf:"center"},tabDiv:{display:"flex",flex:2,visibility:"hidden","& #tab":{background:"#9e9e9e",color:"white",flex:1,fontSize:9,borderBottomRightRadius:0,borderBottomLeftRadius:0,padding:5,border:"1px solid black",borderBottomColor:"transparent"},"& #active":{background:"#ededf0",color:"black",flex:1,fontSize:9,borderBottomRightRadius:0,borderBottomLeftRadius:0,boxShadow:"0px 2px 0px -1px #ededf0",padding:5,border:"1px solid black",borderBottomColor:"#ededf0"}},content:{display:"flex",flexDirection:"row",padding:"5px 0px",flexGrow:1},left:{flex:3,alignItems:"center"},right:{flex:3,maxHeight:"100%"},title:{fontWeight:"bold",marginLeft:5,fontSize:function(t){return t.small?16:18}},border:{borderRight:"1px solid grey",marginRight:10},chartHolder:{display:"flex",flexDirection:"row",height:"100%",alignItems:"center",position:"relative"},partyBars:{flex:2,alignSelf:"center"},chartDiv:{padding:"0 10px",flex:2,height:"100%",width:"100%"},update:{paddingTop:5,fontSize:12}});function X(){var t=Object(n.useState)(""),e=Object(o.a)(t,2),a=e[0],r=e[1],c=Object(n.useState)(window.innerWidth>600?"":"gains"),i=Object(o.a)(c,2),s=i[0],l=i[1],d=J(),j=0,p=Object(n.useContext)(h.a).data;Object(n.useEffect)((function(){try{if(p.party)if(p.declaration.overallResult.partyName&&p.declaration.overallResult.resultText){var t=p.declaration.overallResult.partyName+" "+p.declaration.overallResult.resultText;if(t===a)return;r(t)}else r("")}catch(e){}}),[p]);var u=function(t){var e=t.active,a=t.payload;t.label;return e&&a&&a.length?Object(g.jsxs)("div",{className:"tooltip-wrapper",children:[Object(g.jsx)("strong",{className:"tooltip-name",children:a[0].name}),Object(g.jsxs)("span",{children:[a[0].value.toLocaleString("en")," votes"]})]}):null};return Object(g.jsxs)("div",{id:"graphWidget-main",className:d.main,children:[Object(g.jsxs)("div",{className:d.topDiv,children:[Object(g.jsx)("div",{className:d.declarationDiv,children:a&&Object(g.jsx)(F,{declarationText:a})}),Object(g.jsxs)(V.a,{className:d.tabDiv,id:"tabDiv",children:[Object(g.jsx)(G.a,{onClick:function(){return l("gains")},id:"gains"===s?"active":"tab",children:"Pop. Vote"}),Object(g.jsx)(G.a,{onClick:function(){return l("chart")},id:"chart"===s?"active":"tab",children:"Gains/Losses"})]})]}),Object(g.jsxs)("div",{className:d.content,children:[Object(g.jsxs)("div",{className:d.left,style:{display:"chart"===s?"none":"initial"},children:[Object(g.jsx)("div",{className:d.title,children:"Popular vote"}),Object(g.jsxs)("div",{className:d.chartHolder,children:[Object(g.jsx)("div",{className:d.partyBars,children:p.party&&p.party.partyResults.map((function(t,e){return p.party.partyResults.length>6?e<5?(j+=t.votesPercent,Object(g.jsx)(I,{party:t,result:"".concat(t.votesPercent,"%")},e)):e===p.party.partyResults.length-1?Object(g.jsx)(I,{party:{nameShort:"OTH",color:"#c0c0c0"},result:"".concat(j?(100-j).toFixed(1):0,"%")},e):void 0:Object(g.jsx)(I,{party:t,result:"".concat(t.votesPercent,"%")},e)}))}),Object(g.jsx)("div",{className:d.chartDiv,children:p.party&&Object(g.jsx)(C.a,{height:200,width:"100%",children:p.party.partyResults[0].votes?Object(g.jsxs)(T.a,{children:[Object(g.jsx)(k.a,{data:p.party.partyResults,fill:"#8884d8",paddingAngle:2,dataKey:"votes",children:p.party.partyResults.map((function(t,e){return Object(g.jsx)(L.a,{fill:t.color},"cell-".concat(e))}))}),Object(g.jsx)(z.a,{content:Object(g.jsx)(u,{})})]}):Object(g.jsxs)(T.a,{children:[Object(g.jsx)(k.a,{data:[{name:"No Results",value:100}],startAngle:90,endAngle:450,children:Object(g.jsx)(L.a,{fill:"grey"})}),Object(g.jsx)(z.a,{position:{x:0,y:-10},content:Object(g.jsx)("div",{className:"tooltip-wrapper",children:Object(g.jsx)("strong",{children:"No Results"})})})]})})})]})]}),!s&&Object(g.jsx)("div",{className:d.border,id:"chartBorder"}),Object(g.jsxs)("div",{className:d.right,id:"gainslosses",style:{display:"gains"===s?"none":"initial"},children:[Object(g.jsx)("div",{className:d.title,children:"Gains/Losses"}),Object(g.jsxs)("div",{className:d.chartHolder,children:[Object(g.jsx)("div",{className:d.partyBars,children:p.party&&p.party.partyResults.map((function(t,e){return p.party.partyResults.length>6?e<5?Object(g.jsx)(I,{party:t,result:"".concat(t.seatChange)},e):e===p.party.partyResults.length-1?Object(g.jsx)(I,{party:{nameShort:"OTH",color:"#c0c0c0"},result:"".concat(t.seatChange)},e):void 0:Object(g.jsx)(I,{party:t,result:"".concat(t.seatChange)},e)}))}),Object(g.jsx)(E,{data:p.party})]})]})]})]})}var K=["color","votes"],q=Object(f.a)({meter:{maxWidth:"95%",position:"relative",minHeight:"20px"},bar:{background:function(t){return t.color},width:"0%",borderRadius:"0px 5px 5px 0px",height:10,margin:2,animationName:"animate-bar",animationDuration:"0.5s",transition:"width 300ms ease-in-out",transitionDelay:"100ms",zIndex:20},majorityLine:{position:"absolute",height:"120%",minHeight:"20px",bottom:-2,borderLeft:"2px solid black",transition:"left 300ms ease-in-out"},majorityLabel:{position:"absolute",textAlign:"left",top:-25,marginLeft:-7,fontWeight:"bolder",transition:"right 300ms ease-in-out"}});function Q(t){t.color;var e=t.votes,a=Object(m.a)(t,K),n=q(t);return Object(g.jsx)("div",Object(x.a)({className:"animate-bar ".concat(n.bar),style:{width:e}},a))}var U=function(t){var e=Object(n.useContext)(h.a).data,a=Object(n.useState)(null),r=Object(o.a)(a,2),c=r[0],i=r[1],s=Object(n.useState)(50),l=Object(o.a)(s,2),d=l[0],j=l[1],p=q(t);return Object(n.useEffect)((function(){if(console.log("barchart",e),e){var a=t.data.partyResults[0];a.seats>=t.majority?(i(a.seats),j(t.majority/a.seats*100)):(i(t.majority),j(t.majority/t.majority*100))}}),[t.data,t.seatTotal,t.majority]),Object(g.jsxs)("div",{className:p.meter,children:[Object(g.jsxs)("div",{className:p.majorityLabel,style:{right:"".concat(100-d,"%")},children:[t.majority," ",window.screen.availWidth>250&&"seats needed for majority"]}),e&&c&&t.data.partyResults.map((function(t,e){if(t.seats)return Object(g.jsx)(Q,{color:t.color,votes:t.seats>0?"".concat(t.seats/c*100,"%"):"0.5%"},e)})),Object(g.jsx)("div",{className:p.majorityLine,style:{left:"".concat(d,"%")}})]})},Y=Object(f.a)({barchartApp:{height:250,position:"relative"},main:{height:"100%",display:"flex",position:"relative",flexDirection:"column",padding:"10px 10px",backgroundColor:"#ededf0"},titleRow:{flex:2,display:"flex",padding:"0px 5px 5px 5px",justifyContent:"space-between"},title:{fontSize:24,fontWeight:"bold"},declarationText:{paddingTop:5,"& #party":{fontWeight:"bold"},"& #majority":{fontSize:14}},barchart:{fontSize:14,display:"flex",padding:"15px 0px 10px 0px",flexDirection:"column-reverse",flexWrap:"wrap",flex:3},partyMap:{fontSize:16,display:"flex",flex:2,alignContent:"left",overflowX:"auto",maxHeight:52},update:{fontSize:10,padding:"5px 0px 0px 5px"},partyContainer:{width:"20%",paddingTop:5,display:"flex",alignItems:"center",fontWeight:"bold",fontSize:14,letterSpacing:2,padding:"5px 5px",margin:1,borderRadius:5,color:"white",justifyItems:"center",justifyContent:"space-between"},popVote:{fontWeight:"bold",fontSize:14}});function Z(){var t=Object(n.useContext)(h.a).data,e=Y(),a=Object(n.useState)([]),r=Object(o.a)(a,2),c=r[0],i=r[1];Object(n.useEffect)((function(){if(t.party){i([]),t.party.partyResults.map((function(t,e){i((function(a){return[].concat(Object(b.a)(a),[{partyName:t.nameShort,id:e,seats:t.seats,color:t.color,votesPercent:t.votesPercent,votesTotal:t.votes}])}))}))}}),[t]);var s,l=function(t){var a=t.party;return Object(g.jsxs)("div",{id:"partyCard",className:e.partyContainer,style:{backgroundColor:a.color},children:[Object(g.jsx)("div",{children:a.partyName}),Object(g.jsxs)("div",{id:"popVote",className:e.popVote,children:[" ",a.seats," "]})]},a.id)},d=function(){var a,n,r=!1;return t.party.partyResults[0].seats>t.party.partyResults[1].seats&&(a=t.party.partyResults[0].name,r=!0),t.declaration.overallResult.resultText&&(n="elected "+t.declaration.overallResult.resultText),Object(g.jsxs)("div",{id:"declarationText",className:e.declarationText,children:[r&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("span",{id:"party",children:[a,"s"]}),Object(g.jsx)("span",{id:"helpertext",children:" leading "}),n&&Object(g.jsx)("span",{children:"and elected"}),Object(g.jsx)("span",{children:" - "})]}),Object(g.jsxs)("span",{id:"majority",children:[t.config.majority," seats needed for majority"]})]})};return Object(g.jsx)("div",{className:e.barchartApp,children:t.party&&Object(g.jsxs)("div",{className:e.main,children:[Object(g.jsx)("div",{className:e.titleRow,children:Object(g.jsxs)("div",{className:e.left,children:[Object(g.jsx)("div",{id:"widgetTitle",className:e.title,children:t.config.title}),Object(g.jsx)(d,{})]})}),Object(g.jsx)("div",{className:e.barchart,children:Object(g.jsx)(U,{seatTotal:t.config.seats,majority:t.config.majority,majorityPercent:t.config.majority/t.config.seats*100,data:t.party})}),Object(g.jsx)("div",{className:e.partyMap,children:c.map((function(t){return Object(g.jsx)(l,{party:t},t.id)}))}),Object(g.jsxs)("div",{className:e.update,children:["Last updated: ",(s=t.party.generated,new Date(s).toString().split(" ").slice(1,5).join(" "))]})]})})}var $=r.a.lazy((function(){return Promise.all([a.e(3),a.e(4)]).then(a.bind(null,521))})),tt=function(){var t=Object(n.useState)({prov:"nb",year:2020}),e=Object(o.a)(t,2),a=e[0],r=e[1];return Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:"electionSelect",children:Object(g.jsxs)(d.a,{className:"electionSelect",children:[Object(g.jsx)(j.a,{id:"demo-simple-select-label",children:"Select Election"}),Object(g.jsx)(p.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:a,onChange:function(t){return r(t.target.value)},children:window.CONFIG.elections.map((function(t){return Object(g.jsxs)(u.a,{value:t,children:[t.prov," - ",t.year]})}))})]})}),Object(g.jsx)("div",{children:Object(g.jsxs)("ul",{children:[Object(g.jsx)("li",{children:Object(g.jsx)(s.b,{to:"/",children:"Home"})}),Object(g.jsx)("li",{children:Object(g.jsx)(s.b,{to:"/map/".concat(a.prov,"/").concat(a.year),children:"Map App"})}),Object(g.jsx)("li",{children:Object(g.jsx)(s.b,{to:"/barchart/".concat(a.prov,"/").concat(a.year),children:"Barchart App"})}),Object(g.jsx)("li",{children:Object(g.jsx)(s.b,{to:"/graph/".concat(a.prov,"/").concat(a.year),children:"Graph App"})}),Object(g.jsx)("li",{children:Object(g.jsx)(s.b,{to:"/seat/".concat(a.prov,"/").concat(a.year),children:"Seat App"})})]})})]})},et=function(){return Object(g.jsx)(s.a,{children:Object(g.jsxs)(l.c,{children:[Object(g.jsx)(l.a,{exact:!0,path:"/",children:Object(g.jsx)(tt,{})}),Object(g.jsx)(l.a,{path:"/map/:prov/:year/:riding?",children:Object(g.jsx)(n.Suspense,{fallback:Object(g.jsx)("div",{children:"Loading.."}),children:Object(g.jsx)(h.b,{children:Object(g.jsx)($,{showBanner:!0})})})}),Object(g.jsx)(l.a,{path:"/seat/:prov/:year?",children:Object(g.jsx)(h.b,{children:Object(g.jsx)(R,{})})}),Object(g.jsx)(l.a,{path:"/graph/:prov/:year?",children:Object(g.jsx)(h.b,{children:Object(g.jsx)(X,{})})}),Object(g.jsx)(l.a,{path:"/barchart/:prov/:year?",children:Object(g.jsx)(h.b,{children:Object(g.jsx)(Z,{})})})]})})},at=function(t){t&&t instanceof Function&&a.e(5).then(a.bind(null,519)).then((function(e){var a=e.getCLS,n=e.getFID,r=e.getFCP,c=e.getLCP,i=e.getTTFB;a(t),n(t),r(t),c(t),i(t)}))};i.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(et,{})}),document.getElementById("root")),at()}},[[431,1,2]]]);
//# sourceMappingURL=main.6e4e73f5.chunk.js.map