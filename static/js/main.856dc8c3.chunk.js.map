{"version":3,"sources":["dataContext.js","components/SeatApp/MajorityMeter.js","components/SeatApp/Declaration.js","utilities/LiveUpdates.js","components/SeatApp/App.js","components/GraphApp/partyCard.js","components/GraphApp/GainsBar.js","components/GraphApp/GainsDiv.js","components/GraphApp/Declaration.js","components/GraphApp/App.js","components/BarchartApp/MajorityMeter.js","components/BarchartApp/Declaration.js","components/BarchartApp/App.js","components/FilteredResultsApp/Loading.js","components/FilteredResultsApp/SimpleDialog.js","components/FilteredResultsApp/ResultsBox.js","components/FilteredResultsApp/App.js","utilities/MajorityMeter.js","utilities/SeatMap.js","components/LeadersApp/Declaration.js","components/LeadersApp/App.js","App.js","reportWebVitals.js","index.js"],"names":["DataContext","createContext","initialData","full","party","declaration","config","counter","DataContextProvider","props","useState","data","setData","useParams","prov","year","useEffect","console","log","eYear","eProv","Promise","all","fetch","then","res","json","catch","e","prevData","type","prev","prevOverall","leaders","getStaticData","interval","timer","setInterval","cache","getDynamicData","clearInterval","Provider","value","children","useStyles","makeStyles","meter","width","position","marginTop","bar","background","color","votes","borderRadius","height","margin","majorityLine","bottom","borderLeft","small","majorityLabel","paddingRight","fontSize","fontWeight","transform","Bar","other","classes","className","MajorityMeter","maxSeats","setMaxSeats","majorityPosition","setMajorityPosition","leadingParty","partyResults","seats","majority","seatTotal","style","left","top","map","i","root","display","alignItems","paddingBottom","alignSelf","Declaration","declarationText","container","gap","paddingTop","live","backgroundColor","textTransform","padding","lineHeight","textAlign","time","LiveUpdates","update","date","Date","toLocaleDateString","toLocaleTimeString","getDate","styles","seatApp","main","flexDirection","flex","titleRow","justifyContent","title","majorityMeter","seatContainer","overflow","flexGrow","seatMap","flexWrap","partyMap","overflowX","seat","flexShrink","partyContainer","letterSpacing","justifyItems","popVote","App","useContext","setSeats","parties","setParties","setDeclarationText","overallResult","partyName","resultText","text","total","j","oldArray","nameShort","id","length","votesPercent","votesTotal","k","Seat","el","LeadingText","winner","leading","name","Party","majorityPercent","election_day","generated","maxHeight","PartyCard","result","right","gainsBar","borderWidth","borderStyle","borderColor","transition","transitionDelay","GainsBar","barWidth","setWidth","Math","abs","gainsDiv","centerBar","zIndex","Gains","max","setMax","tempMax","forEach","seatChange","partyWidth","alignContent","topDiv","borderBottom","declarationDiv","tabDiv","visibility","borderBottomRightRadius","borderBottomLeftRadius","border","borderBottomColor","boxShadow","content","marginLeft","borderRight","marginRight","chartHolder","partyBars","chartDiv","window","innerWidth","hide","toggleHide","votesRef","CustomTooltip","active","payload","label","toLocaleString","ButtonGroup","Button","onClick","toFixed","ResponsiveContainer","PieChart","Pie","fill","paddingAngle","dataKey","entry","index","Cell","Tooltip","startAngle","endAngle","x","y","GainsDiv","maxWidth","minHeight","animationName","animationDuration","Barchart","screen","availWidth","barchartApp","barchart","loading","dialogRoot","resultsList","candidateRoot","header","fontFamily","resultsInfo","imageDiv","minWidth","screensize","candidateLeftDiv","candidateName","candidateRightDiv","justifySelf","votesDiv","polls","SimpleDialog","results","handleClose","getColor","open","Dialog","onClose","pollsReported","pollsTotal","IconButton","closeButton","List","candidate","partyData","ListItem","alt","onLoad","target","onError","src","cachedHeadFilename","split","slice","join","concat","partyCode","isIncumbent","percent","isElected","resultsRoot","paddingLeft","candidateContainer","cursor","marginBottom","ResultsBox","filter","ridingResults","setRidingResults","show","toggleShow","partyInfo","find","ridingName","riding","localStorage","setItem","getRidingResults","firstName","lastName","lead","leadPercent","selectContainer","formControl","resultsContainer","overflowY","FilteredResultsApp","setFilter","setResults","toggleLoading","loadfilter","selects","setSelects","handleChange","getData","list","requests","filename","state","filteredResults","getSelect","findFilter","urlSlug","toLowerCase","GetResults","push","MenuItem","FormControl","InputLabel","shrink","Select","onChange","SeatMap","leader","partyNameShort","imgName","partyImgBox","partyChiclet","partyLeader","MapApp","React","lazy","InstantArticleApp","Home","setProv","labelId","CONFIG","elections","to","InstantArticle","showBanner","exact","path","fallback","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.856dc8c3.chunk.js","sourcesContent":["import React, {useEffect, useReducer, createContext, useState} from 'react'\r\n\r\nimport {useLocation, useParams} from 'react-router-dom'\r\n\r\nexport const DataContext = createContext(null);\r\n\r\nconst initialData = {full: null,\r\n    party: null,\r\n    declaration: null,\r\n    config: null,\r\n    counter: 0}\r\n\r\nconst DataContextProvider = (props) => {\r\n    // const [data, dispatch] = useReducer(dataReducer, initialData)\r\n    const [data, setData] = useState(initialData)\r\n    const {prov, year} = useParams();\r\n    \r\n    const getStaticData = () => {\r\n        let eYear = year ? year : \"2020\"\r\n        let eProv = prov?prov : \"nb\"\r\n\r\n        Promise.all([\r\n            fetch(`data/${eProv}/data/${eYear}/${eProv}_ridingResults.json`)\r\n                .then(res=>{\r\n                    return res.json();\r\n                })\r\n                .then(json=>{\r\n                    return json\r\n                })\r\n                .catch(e=>{\r\n                    console.log('error fetching riding results')\r\n                }),\r\n            fetch(`data/${eProv}/data/${eYear}/${eProv}_partyResults.json`)  //http://electorfederal.blcloud.net/api/party/result/overall/(all)/json\r\n                .then(res=>{\r\n                    return res.json();\r\n                })\r\n                .then(json=>{\r\n                    return json\r\n                })\r\n                .catch(e=>{\r\n                    console.log('error fetching party results')\r\n                    return null\r\n\r\n                }),\r\n            fetch(`data/${eProv}/data/${eYear}/${eProv}_declaration.json`)  // //http://electorfederal.blcloud.net/api/OverallResult/?format=json\r\n                .then(res=>{\r\n                    return res.json();\r\n                })\r\n                .then(json=>{\r\n                    return json\r\n                })\r\n                .catch(e=>{\r\n                    console.log('error fetching declaration results')\r\n                    return null\r\n\r\n                }),\r\n            fetch(`data/${eProv}/data/${eYear}/${eProv}_prevResults.json`)\r\n                .then((res)=> {\r\n                    return res.json();\r\n                })\r\n                .catch(e=>{\r\n                    console.log('previous results do not exist')\r\n                    return null\r\n                }),\r\n            fetch(`data/${eProv}/data/${eYear}/${eProv}_prevDeclaration.json`)\r\n                .then((res)=> {\r\n                    return res.json();\r\n                })\r\n                .catch(e=> {\r\n                    console.log('previous declaration does not exist')\r\n                    return null\r\n                }),\r\n            fetch(`data/${eProv}/data/${eYear}/${eProv}_leaders.json`)\r\n                .then(res=>{\r\n                    return res.json();\r\n                })\r\n                .then(json=>{\r\n                    return json\r\n                })\r\n                .catch(e=>{\r\n                    console.log('Please include party leader data')\r\n                    return null\r\n                }),\r\n            fetch(`data/${eProv}/data/${eYear}/${eProv}_config.json`)  // //http://electorfederal.blcloud.net/api/OverallResult/?format=json\r\n                .then(res=>{\r\n                    return res.json();\r\n                })\r\n                .then(json=>{\r\n                    return json\r\n                })\r\n                .catch(e=>{\r\n                    console.log('Please add election config')\r\n                    return null\r\n                })\r\n            ])\r\n            .then(res=>{\r\n                setData(prevData=>({\r\n                    ...prevData,\r\n                    type: 'SET_INITIAL', \r\n                    full: res[0], \r\n                    party: res[1],\r\n                    declaration: res[2],\r\n                    prev: res[3], \r\n                    prevOverall: res[4], \r\n                    leaders: res[5],\r\n                    config: res[6] \r\n                }))\r\n            }).catch(e=>{\r\n                console.log('error', e)\r\n            })\r\n    }\r\n\r\n    const getDynamicData = () => {\r\n\r\n        let eYear = year ? year : \"2020\"\r\n        let eProv = prov?prov : \"nb\"\r\n\r\n        console.log('fetching data')\r\n        Promise.all([\r\n            fetch(`data/${eProv}/data/${eYear}/${eProv}_ridingResults.json`, {cache:\"no-cache\"})\r\n                .then(res=>{\r\n                    return res.json();\r\n                })\r\n                .then(json=>{\r\n                    return json\r\n                })\r\n                .catch(e=>{\r\n                    console.log('error fetching riding results')\r\n                }),\r\n            fetch(`data/${eProv}/data/${eYear}/${eProv}_partyResults.json`, {cache:\"no-cache\"})  //http://electorfederal.blcloud.net/api/party/result/overall/(all)/json\r\n                .then(res=>{\r\n                    return res.json();\r\n                })\r\n                .then(json=>{\r\n                    return json\r\n                })\r\n                .catch(e=>{\r\n                    console.log('error fetching party results')\r\n                }),\r\n            fetch(`data/${eProv}/data/${eYear}/${eProv}_declaration.json`, {cache:\"no-cache\"})  // //http://electorfederal.blcloud.net/api/OverallResult/?format=json\r\n                .then(res=>{\r\n                    return res.json();\r\n                })\r\n                .catch(e=>{\r\n                    console.log('error fetching declaration results')\r\n                })\r\n            ])\r\n            .then(res=>{\r\n                setData(prevData=>({\r\n                    ...prevData,\r\n                    type: 'SET_INITIAL', \r\n                    full: res[0], \r\n                    party: res[1],\r\n                    declaration: res[2]\r\n                }))\r\n            }).catch(e=>{\r\n                console.log('error', e)\r\n            })\r\n    }\r\n\r\n    useEffect(()=> {\r\n        console.log('data context');\r\n        getStaticData()\r\n    }, [])\r\n\r\n    useEffect(()=> {\r\n        let interval;\r\n        if (data.config) {\r\n            console.log('updating every ' + (data.config.timer ? data.config.timer : 30000) + 'ms');\r\n            interval = setInterval(()=>{\r\n                getDynamicData();\r\n                \r\n            },(data.config.timer ? data.config.timer : 30000))\r\n        }\r\n        return () => {\r\n            clearInterval(interval)\r\n        }\r\n    }, [data.config])   \r\n\r\n    return (\r\n        <DataContext.Provider value={{data}}>\r\n            {props.children}\r\n        </DataContext.Provider>\r\n    )\r\n}\r\n\r\nexport default DataContextProvider","import React, {useState, useEffect} from 'react'\r\n\r\nimport {makeStyles} from '@material-ui/core/styles'\r\n\r\nconst useStyles = makeStyles({\r\n    meter: props =>({\r\n        width: '100%',\r\n        // marginLeft: 10,\r\n        position: 'relative',\r\n        marginTop: 14\r\n    }),\r\n    bar: {\r\n      background: (props) =>\r\n        props.color, \r\n      width: (props) => props.votes,\r\n      borderRadius: '0px 5px 5px 0px',\r\n      height: 5,\r\n      margin: 1,\r\n    },\r\n    majorityLine: {\r\n        position: 'absolute',\r\n        height: '120%',\r\n        bottom: -2,\r\n        borderLeft: (props)=> props.small ? '1px solid black' : '2px solid black',\r\n    },\r\n    majorityLabel: props=>({\r\n        position: 'absolute',\r\n        marginTop: props.small ? -14 : -18,\r\n        paddingRight: 5,\r\n        fontSize: 12,\r\n        fontWeight: 'bolder',\r\n        transform: 'translate(-7px, -1px)'\r\n    })\r\n\r\n\r\n  });\r\n  \r\n\r\nfunction Bar(props) {\r\n    const { color, votes, ...other } = props;\r\n    const classes = useStyles(props);\r\n    return <div className={classes.bar} {...other} />;\r\n}\r\n\r\nconst MajorityMeter = (props) => {\r\n    \r\n    // const { color, ...other } = props;\r\n\r\n    const [maxSeats, setMaxSeats] = useState(25)\r\n    const [difference, setDifference] = useState(0);\r\n    const [majorityPosition, setMajorityPosition] = useState(50);\r\n    const [leading, setLeading] = useState(0)\r\n    const classes = useStyles(props)\r\n    \r\n    useEffect(()=> {\r\n        if (props.data) {\r\n            let leadingParty = props.data.partyResults[0];\r\n            // console.log('leading', props.seatTotal)\r\n            if (leadingParty.seats >= props.majority) {\r\n                setMaxSeats(leadingParty.seats);\r\n                setMajorityPosition(props.majority/leadingParty.seats*100)\r\n            } else {\r\n                setMaxSeats(props.majority)\r\n                setMajorityPosition(props.majority/props.majority*100)\r\n            }\r\n        }\r\n    }, [props.data,props.seatTotal, props.majority])\r\n\r\n    return (\r\n        <div className={classes.meter}>\r\n            <div className={classes.majorityLabel} style={{left: `${majorityPosition}%`, top: 0}}>{props.majority}</div>\r\n\r\n            {/* <div className={classes.majorityLabel} style={{right: `${100-majorityPosition}%`}}>{props.majority} seats needed for majority</div> */}\r\n            {props.data && props.data.partyResults.map((party, i)=>{\r\n                if (i < 4) {\r\n                    return <Bar key={i} color={party.color} votes={party.seats > 0 ? `${(party.seats/maxSeats)*100}%` : '2%'} />\r\n                }\r\n            })    \r\n            }\r\n            {/* {console.log('majority',majority)} */}\r\n            <div className={classes.majorityLine} style={{left: `${majorityPosition}%`}}/>\r\n\r\n        </div>\r\n    );\r\n}\r\nexport default MajorityMeter;","import React, {useEffect, useState} from 'react';\r\nimport {makeStyles} from '@material-ui/core/styles'\r\n\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\n\r\nconst useStyles=makeStyles({\r\n    root: {\r\n        display: 'flex', \r\n        alignItems: 'center',\r\n        paddingBottom: 5,\r\n        fontWeight: \"bolder\", \r\n        alignSelf: 'flex-start',\r\n        fontSize: 14,\r\n        '& svg': {\r\n            color: 'green',\r\n            fontSize: 20, \r\n            paddingRight: 5\r\n        }\r\n\r\n    }\r\n})\r\n\r\nconst Declaration = (props) => {\r\n    const classes = useStyles()\r\n    \r\n\r\n    return (\r\n        <div className={props.declarationText && classes.root}>\r\n            <CheckCircleIcon color=\"green\" />\r\n            {props.declarationText}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Declaration","import React from 'react'\r\nimport {makeStyles} from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles({\r\n  container: {\r\n    display: 'flex', \r\n    alignItems: 'center', \r\n    gap: 5, \r\n    paddingTop: 3\r\n  },  \r\n  live: {\r\n    backgroundColor: 'red', \r\n    color: 'white', \r\n    fontWeight: 'bold', \r\n    textTransform: 'uppercase', \r\n    padding: '0px 5px', \r\n    height: 22, \r\n    lineHeight: '22px', \r\n    textAlign: 'center', \r\n    borderRadius: 5, \r\n    fontSize: 14\r\n  }, \r\n  time: {\r\n    fontSize: 14, \r\n  }\r\n})\r\n\r\nexport default function LiveUpdates({time}) {\r\n  const classes = useStyles()\r\n  \r\n  const isLive = () => {\r\n    return true\r\n  }\r\n\r\n\r\n  const getDate = (update) => {\r\n\t\tconst date = new Date(update)\r\n    console.log(date.toLocaleDateString() === new Date().toLocaleDateString())\r\n    const dateString = date.toLocaleTimeString() + (date.toLocaleDateString() !== new Date().toLocaleDateString()? date.toLocaleDateString(): '')\r\n\r\n\r\n    return date.toLocaleTimeString()\r\n    // return [dateArray[4], ' ', dateArray[6][1], dateArray[7][0], dateArray[8][0]].join('')\r\n\t}\r\n  return (\r\n    <div className={classes.container}>\r\n      {isLive() && <div className={classes.live}>Live</div>  }\r\n      <div className={classes.time}>Last updated: {getDate(time)}</div>\r\n    </div>\r\n  )\r\n}\r\n","import React, {useContext, useState, useEffect} from 'react'\r\n\r\nimport {makeStyles} from '@material-ui/core/styles';\r\n\r\nimport {DataContext} from '../../dataContext'\r\n\r\nimport MajorityMeter from './MajorityMeter'\r\nimport Declaration from './Declaration'\r\nimport LiveUpdates from '../../utilities/LiveUpdates';\r\n\r\nconst styles = makeStyles({\r\n\tseatApp: {\r\n\t\theight: 250,\r\n\t\tposition: \"relative\",\r\n\t\tbackgroundColor: '#ededf0',\r\n\t\tpadding: 10\r\n\t},\r\n\tmain: {\r\n\t\t// fontFamily: 'Roboto',\r\n\t\tdisplay: 'flex',\r\n\t\tposition: 'relative',\r\n\t\tflexDirection: 'column',\r\n\t\theight: '100%'\r\n\t},\r\n\tleft: {\r\n\t\tflex: 4\r\n\t},\r\n\ttitleRow: {\r\n\t\tdisplay: 'flex', \r\n\t\tflex: '1',\r\n\t\t// padding: '0px 5px',\r\n\t\tpaddingBottom: 5,\r\n\t\tjustifyContent: 'space-between'\r\n\t},\r\n\ttitle: props=> ({\r\n\t\tfontSize: props.small ? 18  : 24,\r\n\t\tfontWeight: 'bold',\r\n\t\tpaddingRight: 20\r\n\t}),\r\n\tmajorityMeter: props => ({\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center',\r\n\t\ttextAlign: 'right',\r\n\t\tfontSize: 12,\r\n\t\tflex: 1\r\n\t}),\r\n\tdeclarationText: {\r\n\t\tpaddingTop: 5,\r\n\t\t'& #party' : {\r\n\t\t\tfontWeight: 'bold'\r\n\t\t},\r\n\t\t'& #majority': {\r\n\t\t\tfontSize: 14\r\n\t\t}\r\n\t},\r\n\tseatContainer: {\r\n\t\tflex: '3',\r\n\t\tposition: 'relative',\r\n\t\toverflow: 'hidden',\r\n\t\tflexGrow: 3\r\n\t},\r\n\tseatMap: {\r\n\t\tdisplay: 'flex',\r\n\t\tflexDirection: 'column-reverse',\r\n\t\tflexWrap: 'wrap',\r\n\t\theight: '100%',\r\n\t\tposition: 'relative'\r\n\t},\r\n\tpartyMap: {\r\n\t\tdisplay: 'flex',\r\n\t\tflex: '2',\r\n\t\tjustifyContent: 'flex-start',\r\n\t\tpadding: '5px 0px',\r\n\t\toverflowX: 'auto'\r\n\t},\r\n\tseat: {\r\n\t\theight: '15%',\r\n        margin: '0.1%',\r\n        flexShrink: 1,\r\n\t\tpaddingBottom: 5\r\n\t},\r\n\tpartyContainer: {\r\n\t\tflex: 1,\r\n        width: '20%',\r\n\t\tpaddingTop: 5,\r\n\t\tdisplay: 'flex',\r\n        alignItems: 'center',\r\n        fontWeight: 'bold',\r\n        fontSize: 14,\r\n        letterSpacing: 2,\r\n        padding: '5px 5px',\r\n        margin: 1,\r\n        borderRadius: 5,\r\n        color: 'white',\r\n        justifyItems: 'center',\r\n\t\tjustifyContent: 'space-between',\r\n\t\t'& #partySeatsTotal': {\r\n\t\t\tfontSize: 18\r\n\t\t}\r\n    },\r\n    popVote:{\r\n        padding: '5px 0px',\r\n        fontWeight: 'bold',\r\n        fontSize: 20\r\n\t},\r\n\tupdate: {\r\n\t\t// flex:1,\r\n\t\tfontSize: 10\r\n\t}\r\n})\r\n\r\n\r\nexport default function App() {\r\n    const {data} = useContext(DataContext)\r\n\tconst [seats, setSeats] = useState([])\r\n\tconst [parties, setParties] = useState([])\r\n\tconst [declarationText, setDeclarationText] = useState('')\r\n\r\n    const classes = styles()\r\n\r\n\tconst date = new Date()\r\n\r\n    useEffect(()=>{\r\n\r\n        try {\r\n            if (data.party) {\r\n                if (data.declaration.overallResult.partyName && data.declaration.overallResult.resultText) {\r\n\t\t\t\t\tlet text = data.declaration.overallResult.partyName + ' ' + data.declaration.overallResult.resultText;\r\n\t\t\t\t\tif (text===declarationText) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetDeclarationText(text)\r\n\t\t\t\t\t}\r\n                } else \r\n                setDeclarationText('')\r\n            }\r\n        } catch (e) {\r\n            console.log('error setting declaration')\r\n        }\r\n    \r\n      },[data])\r\n\r\n    useEffect(()=> {\r\n        if (data.party) {\r\n\t\t\tlet total = 0\r\n\t\t\tsetSeats([])\r\n\t\t\tsetParties([])\r\n            data.party.partyResults.map((party, i)=>{\r\n\t\t\t\tfor (let j=0; j<party.seats; j++) {\r\n\t\t\t\t\ttotal++\r\n                    setSeats( oldArray=> [ ...oldArray, { party: party.nameShort,  id: j, color: party.color }])\r\n\t\t\t\t}\r\n\t\t\t\tif (i <=data.party.partyResults.length-1 && i >4) {\r\n\t\t\t\t\tif (!party.seats) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tsetParties(oldArray=>[...oldArray, {partyName: party.nameShort,id:i, seats: party.seats, color: party.color,votesPercent: party.votesPercent,votesTotal: party.votes}])\r\n\t\t\t\t\r\n\t\t\t})\r\n\t\t\tif (total < data.config.seats) {\r\n\t\t\t\tfor (let k=0; k<data.config.seats-total; k++) {\r\n\t\t\t\t\tsetSeats( oldArray=> [ ...oldArray, { party: 'none',  id: k, color: '#e0e0e0' }])\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}, [data])\r\n\r\n\tconst Seat = (props) => {\r\n\t\treturn (\r\n\t\t\t<div key={`${props.party}-${props.el}`} className={classes.seat} style={{backgroundColor: props.color}} />\r\n\t\t);\r\n\t}\r\n\r\n    const LeadingText = () => {\r\n\t\tlet winner;\r\n\t\tlet leading = false;\r\n\t\tlet text;\r\n        if (data.party.partyResults[0].seats > data.party.partyResults[1].seats) {\r\n\t\t\twinner = data.party.partyResults[0].name\r\n\t\t\tleading = true\r\n        } else {\r\n\r\n\t\t}\r\n\r\n\t\tif (data.declaration.overallResult.resultText) {\r\n\t\t\ttext = 'elected ' + data.declaration.overallResult.resultText\r\n\t\t}\r\n\t\treturn (\r\n            <div id=\"declarationText\" className={classes.declarationText}>\r\n                {leading && <>\r\n\t\t\t\t\t<span id=\"party\">{winner}s</span>\r\n\t\t\t\t\t<span id=\"helpertext\"> leading </span> \r\n\t\t\t\t\t{text &&\r\n\t\t\t\t\t\t<span>and elected</span>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t<span> - </span>\r\n\t\t\t\t</>\r\n\t\t\t\t}\r\n\t\t\t\t<span id=\"majority\">{data.config.majority} seats needed for majority</span>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const Party = (props) => {\r\n\t\tconst {party} = props\r\n\t\treturn (\r\n\t\t\t<div key={party.id} id=\"partyCard\" className={classes.partyContainer} style={{backgroundColor: party.color}}>\r\n\t\t\t\t<div>{party.partyName}</div>\r\n\t\t\t\t<div id=\"popVote\" className={classes.popVote}> {party.seats} </div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n    return (\r\n        <div className={classes.seatApp}>\r\n\t\t\t{(data.party && seats && parties) && \r\n\t\t\t<div className={classes.main}>\r\n\t\t\t\t<div className={classes.titleRow} id=\"widgetTitleRow\">\r\n\t\t\t\t\t<div className={classes.left}>\r\n\t\t\t\t\t\t<div id=\"widgetTitle\" className={classes.title}>{data.config.title}</div>\r\n\t\t\t\t\t\t{console.log('call',declarationText)}\r\n\t\t\t\t\t\t{declarationText ? <Declaration declarationText={declarationText} /> : <LeadingText />}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{<div className={classes.majorityMeter}>\r\n\t\t\t\t\t\t<MajorityMeter seatTotal={data.config.total} majority={data.config.majority} majorityPercent={(data.config.majority/data.config.total)*100} data={data.party}/>\r\n\t\t\t\t\t</div>}\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div className={classes.seatContainer}>\r\n\t\t\t\t\t<div className={classes.seatMap}>\r\n\t\t\t\t\t\t{seats.map((seat, i)=>{\r\n\t\t\t\t\t\t\t\treturn <Seat key={seat.party+'-'+i} party={seat.party} el={seat.id} color={seat.color}/>\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={classes.partyMap}>\r\n\t\t\t\t\t{parties.map(party=>{\r\n\t\t\t\t\t\treturn <Party key={party.id} party={party}/>\r\n\t\t\t\t\t})}\r\n\t\t\t\t</div>\r\n\t\t\t\t{data.config.election_day &&\r\n\t\t\t\t\t// (new Date(data.config.election_day).getTime() < Date.now()) && \r\n\t\t\t\t\t<LiveUpdates time={data.party.generated} />\r\n\t\t\t\t}\r\n\t\t    </div>}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport {makeStyles} from '@material-ui/core/styles'\r\n\r\nconst styles = makeStyles({\r\n    partyContainer: props => ({\r\n        backgroundColor: props.party.color,\r\n        padding: 5,\r\n        maxHeight: 40,\r\n        margin: 3,\r\n        borderRadius: 5,\r\n        color: 'white',\r\n        fontWeight: 'bold',\r\n        letterSpacing: 1,\r\n        display: 'flex',\r\n        justifyContent: 'space-between'\r\n    })\r\n})\r\n\r\nconst PartyCard = (props) => {\r\n\r\n    const classes = styles(props)\r\n\r\n    return (\r\n        <div className={classes.partyContainer}>\r\n            <div>{props.party.nameShort}</div>\r\n            <div>{props.result > 0 && '+'}{props.result}</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PartyCard","import React, {useState, useEffect} from 'react'\r\nimport {makeStyles} from '@material-ui/core/styles'\r\nimport {CSSTransition, Transition} from 'react-transition-group'\r\n\r\nconst styles = makeStyles({\r\n    partyContainer: ({\r\n        alignItems: 'center',\r\n        height: 25,\r\n        margin: 3,\r\n        position: 'relative',\r\n        width: '80%',\r\n        color: 'black',\r\n        fontWeight: 'bold',\r\n        letterSpacing: 1,\r\n        display: 'flex',\r\n        position: 'relative',\r\n        justifyContent: 'space-between',\r\n        borderBottom: '1px solid black',\r\n        '& #minus': {\r\n            position: 'absolute',\r\n            left: props=>props.small ? -10:-15, \r\n            fontWeight: 'bolder'\r\n\r\n        },\r\n        '& #plus': {\r\n            position: 'absolute',\r\n            right: props=>props.small? -10 :  -15,\r\n            fontWeight: 'bolder'\r\n\r\n        }\r\n    }),\r\n    gainsBar: {\r\n        backgroundColor: props=> props.color,\r\n        position: \"absolute\",\r\n        bottom: 0,\r\n        right: props=> props.width <= 0 && '50%',\r\n        left: props=> props.width > 0 && '50%',\r\n        height: '60%',\r\n        borderWidth: '1px',\r\n        borderStyle: 'solid',\r\n        borderColor: props=>props.color,\r\n        margin: 0,\r\n        padding: 0, \r\n        transition: `width 300ms ease-in-out`,\r\n        transitionDelay: '100ms'\r\n    }\r\n})\r\n\r\nconst GainsBar = (props) => {\r\n    const classes = styles(props) \r\n    const [barWidth, setWidth] = useState(0)  \r\n\r\n    useEffect(() => {\r\n        setWidth(props.width)\r\n    }, [props])\r\n\r\n    return (\r\n        <div className={classes.partyContainer}>\r\n            <div id=\"minus\">-</div>\r\n                <div style={{width: `${Math.abs(barWidth)}%`}} className={classes.gainsBar}></div>\r\n            <div id=\"plus\">+</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default GainsBar","import React, {useState, useEffect} from 'react'\r\nimport {makeStyles} from '@material-ui/core/styles'\r\n\r\n\r\nimport Gainsbar from './GainsBar'\r\n\r\nconst styles = makeStyles({\r\n\tgainsDiv: {\r\n        flex: (props)=> props.small ? 4 : 5,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        position: 'relative',\r\n        justifyContent: 'center',\r\n        // boxSizing: 'border-box'\r\n    },\r\n    centerBar: {\r\n        position: 'absolute',\r\n        borderLeft: '1px solid black',\r\n        left: '50%',\r\n        height: '97%',\r\n        zIndex: 20\r\n        \r\n    }\r\n})\r\n\r\nconst Gains = (props) => {\r\n    \r\n    const [max, setMax] = useState(0);\r\n\r\n    const classes = styles(props)\r\n\r\n\r\n    useEffect(()=>{\r\n        let tempMax = 0\r\n        if (props.data) {\r\n            props.data.partyResults.forEach(party=> {\r\n                if (Math.abs(party.seatChange) > tempMax) {\r\n                    tempMax = Math.abs(party.seatChange)\r\n                }\r\n            })\r\n            setMax(tempMax)\r\n\r\n        }\r\n\r\n    },[props.data])\r\n\r\n    return (\r\n        <div className={classes.gainsDiv}>\r\n            <div className={classes.centerBar}></div>\r\n            {props.data && props.data.partyResults.map((party,i)=>{\r\n                let partyWidth = 0\r\n                if (max !== 0) {\r\n                    partyWidth = (party.seatChange)/(max + 1) * 100;\r\n                }\r\n                if (props.data.partyResults.length > 6) {\r\n                    if (i < 5) {\r\n                    return <Gainsbar key={i} color={party.color} small={props.small} width={`${partyWidth/2}`}/>\r\n                } else if (i === props.data.partyResults.length -1) {\r\n                    return <Gainsbar key={i} color={party.color} small={props.small} width={`${partyWidth/2}`}/>\r\n                }} \r\n                else {\r\n                    return <Gainsbar key={i} color={party.color} small={props.small} width={`${partyWidth/2}`}/>\r\n                }\r\n                \r\n            })}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Gains","import React, {useEffect, useState} from 'react';\r\nimport {makeStyles} from '@material-ui/core/styles'\r\n\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\n\r\nconst useStyles=makeStyles({\r\n    root: {\r\n        display: 'flex', \r\n        alignItems: 'center',\r\n        paddingBottom: 5,\r\n        fontWeight: \"bolder\", \r\n        alignSelf: 'flex-start',\r\n        fontSize: 14,\r\n        '& svg': {\r\n            color: 'green',\r\n            fontSize: 20, \r\n            paddingRight: 5\r\n        }\r\n\r\n    }\r\n})\r\n\r\nconst Declaration = (props) => {\r\n    const classes = useStyles()\r\n    \r\n\r\n    return (\r\n        <div className={props.declarationText && classes.root}>\r\n            <CheckCircleIcon color=\"green\" />\r\n            {props.declarationText}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Declaration","import React, { useContext, useState, useEffect } from 'react'\r\n\r\nimport {makeStyles} from '@material-ui/core/styles'\r\nimport { PieChart, Pie, Tooltip, Sector, Cell, ResponsiveContainer } from 'recharts'\r\nimport {Animated} from 'react-animated-css'\r\n\r\nimport {DataContext} from '../../dataContext'\r\n\r\nimport PartyCard from './partyCard'\r\nimport GainsDiv from './GainsDiv'\r\nimport Declaration from './Declaration'\r\nimport { Button, ButtonGroup } from '@material-ui/core'\r\n\r\nconst styles = makeStyles({\r\n\tmain: {\r\n\t\tfontSize: (props) => props.small && 12,\r\n\t\t// fontFamily: 'Roboto',\r\n\t\tdisplay: 'flex',\r\n\t\tposition: 'relative',\r\n\t\tflexDirection: 'column',\r\n\t\tpadding: 5,\r\n\t\tbackgroundColor: '#ededf0',\r\n\t\talignContent: 'center',\r\n\t\theight: 260\r\n\t}, \r\n\ttopDiv: {\r\n\t\tdisplay: 'flex', \r\n\t\tjustifyContent: 'space-between',\r\n\t\tborderBottom: '1px solid grey',\r\n\t},\r\n\tdeclarationDiv: {\r\n\t\tflex: 2,\r\n\t\talignSelf: 'center',\r\n\t},\r\n\ttabDiv: {\r\n\t\tdisplay: 'flex', \r\n\t\tflex: 2,\r\n\t\tvisibility: 'hidden',\r\n\t\t'& #tab': {\r\n\t\t\tbackground: '#9e9e9e',\r\n\t\t\tcolor: 'white',\r\n\t\t\tflex: 1,\r\n\t\t\tfontSize: 9,\r\n\t\t\tborderBottomRightRadius: 0, \r\n\t\t\tborderBottomLeftRadius: 0,\r\n\t\t\tpadding: 5, \r\n\t\t\tborder: '1px solid black',\r\n\t\t\tborderBottomColor: 'transparent'\r\n\t\t},\r\n\t\t'& #active': {\r\n\t\t\tbackground: '#ededf0',\r\n\t\t\tcolor: 'black',\r\n\t\t\tflex: 1,\r\n\t\t\tfontSize: 9,\r\n\t\t\tborderBottomRightRadius: 0, \r\n\t\t\tborderBottomLeftRadius: 0,\r\n\t\t\tboxShadow: '0px 2px 0px -1px #ededf0',\r\n\t\t\tpadding: 5, \r\n\t\t\tborder: '1px solid black',\r\n\t\t\tborderBottomColor: '#ededf0'\r\n\t\t}\r\n\t},\r\n\tcontent: {\r\n\t\tdisplay: 'flex', \r\n\t\tflexDirection: 'row', \r\n\t\t// flexDirection: props=>props.small ? 'column' : 'row',\r\n\t\tpadding: '5px 0px',\r\n\t\tflexGrow: 1\r\n\t},\r\n\tleft: {\r\n\t\tflex: 3,\r\n\t\t// maxHeight: 200,\r\n\t\talignItems: 'center',\r\n\t\t\r\n\t},\r\n\tright: {\r\n\t\tflex: 3,\r\n\t\tmaxHeight: '100%'\r\n\r\n\t},\r\n\ttitle: {\r\n\t\tfontWeight: 'bold',\r\n\t\tmarginLeft: 5,\r\n\t\tfontSize: props=> props.small ? 16 : 18\r\n\t}, \r\n\tborder: {\r\n\t\tborderRight: '1px solid grey',\r\n\t\tmarginRight: 10\r\n\t},\r\n\tchartHolder: {\r\n\t\tdisplay: 'flex',\r\n\t\tflexDirection: 'row',\r\n\t\theight: '100%',\r\n\t\talignItems: 'center',\r\n\t\tposition: 'relative'\r\n\t},\r\n\tpartyBars: {\r\n\t\tflex: 2,\r\n\t\talignSelf: 'center',\r\n\t},\r\n\tchartDiv: {\r\n\t\tpadding: '0 10px', \r\n\t\tflex: 2,\r\n\t\theight: '100%',\r\n\t\twidth: '100%'\r\n\t},\r\n\tupdate: {\r\n\t\tpaddingTop: 5,\r\n\t\tfontSize: 12\r\n\t}\r\n\r\n})\r\n\r\n\r\n\r\nexport default function App() {\r\n\r\n\tconst [declarationText, setDeclarationText] = useState('')\r\n\tconst [hide, toggleHide] = useState(window.innerWidth > 600 ? '' : 'gains')\r\n\tconst classes = styles()\r\n\r\n\tlet votesRef = 0;\r\n\r\n    const {data} = useContext(DataContext)\r\n\r\n\r\n    useEffect(()=>{\r\n\r\n        try {\r\n            if (data.party) {\r\n                if (data.declaration.overallResult.partyName && data.declaration.overallResult.resultText) {\r\n\t\t\t\t\tlet text = data.declaration.overallResult.partyName + ' ' + data.declaration.overallResult.resultText;\r\n\t\t\t\t\tif (text===declarationText) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetDeclarationText(text)\r\n\t\t\t\t\t}\r\n                } else \r\n                setDeclarationText('')\r\n            }\r\n        } catch (e) {\r\n            \r\n        }\r\n    \r\n      },[data])\r\n\r\n    const CustomTooltip = ({active, payload, label}) => {\r\n\t\tif (active && payload && payload.length) {\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"tooltip-wrapper\">\r\n\t\t\t\t\t<strong className=\"tooltip-name\">{payload[0].name}</strong>\r\n\t\t\t\t\t<span>{payload[0].value.toLocaleString('en')} votes</span>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\treturn null\r\n\t }\r\n\r\n\r\n    return (\r\n        <div id=\"graphWidget-main\" className={classes.main}>\r\n          <div className={classes.topDiv}>\r\n            <div className={classes.declarationDiv}>\r\n                {declarationText && \r\n                    <Declaration declarationText={declarationText} />\r\n                }\t\r\n            </div>\t\r\n                <ButtonGroup className={classes.tabDiv} id=\"tabDiv\">\r\n                    <Button onClick={()=>toggleHide('gains')} id={hide === 'gains' ? \"active\" : \"tab\"}>Pop. Vote</Button>\r\n                    <Button onClick={()=>toggleHide('chart')} id={hide === 'chart' ? \"active\" : \"tab\"}>Gains/Losses</Button>\r\n                </ButtonGroup>\r\n            </div>\r\n            <div className={classes.content}>\r\n                \r\n                \r\n                <div className={classes.left} style={{display: hide === 'chart' ? 'none': 'initial'}}>\r\n                    <div className={classes.title}>Popular vote</div>\r\n                    <div className={classes.chartHolder} >\r\n                        <div className={classes.partyBars}>\r\n                            {data.party &&\r\n                                data.party.partyResults.map((party,i)=>{\r\n                                if (data.party.partyResults.length > 6) {\r\n                                    if (i < 5) {\r\n                                    votesRef += party.votesPercent\r\n                                    return <PartyCard key={i} party={party} result={`${party.votesPercent}%`} />\r\n                                }\r\n                                else if (i === data.party.partyResults.length -1) {\r\n                                    return <PartyCard key={i} party={{nameShort: 'OTH', color: '#c0c0c0'}} result={`${votesRef ? (100-votesRef).toFixed(1):0}%`} /> \r\n                                }\r\n                                } else\t\t\t\t\r\n                                return <PartyCard key={i} party={party} result={`${party.votesPercent}%`} />\r\n                            })\r\n                            \r\n                            }\r\n                        </div>\r\n                            <div className={classes.chartDiv} >\r\n                                {data.party &&\r\n                                <ResponsiveContainer height={200} width={'100%'} >\r\n                                     {data.party.partyResults[0].votes ?\r\n    \r\n                                    <PieChart  >\r\n                                        <Pie\r\n                                            data={data.party.partyResults}\r\n                                            fill=\"#8884d8\"\r\n                                            // label={(entry)=>{return entry.name}} \r\n                                            paddingAngle={2}\r\n                                            dataKey=\"votes\"\r\n                                            \r\n                                        >\r\n                                        {data.party.partyResults.map((entry, index) => {\r\n                                                return <Cell key={`cell-${index}`} fill={entry.color} />\r\n    \r\n                                            }\r\n                                        )}\r\n                                        </Pie>\r\n                                        <Tooltip content={<CustomTooltip />} />\r\n                                    </PieChart>\r\n                                :\r\n                                <PieChart>\r\n                                    <Pie\r\n                                        data={[{name: 'No Results', value: 100}]}\r\n                                        startAngle={90}\r\n                                        endAngle={450}\r\n                                    >\r\n                                        <Cell fill=\"grey\" />\r\n                                    </Pie>\r\n                                    <Tooltip position={{x:0, y:-10}} content={<div className=\"tooltip-wrapper\">\r\n                                                        <strong>No Results</strong>\r\n                                                    </div>}/>\r\n    \r\n                                </PieChart>\t\r\n                                }\r\n                                </ResponsiveContainer>\r\n                                }\r\n                            </div>\t\r\n                    </div>\r\n                </div>\r\n                {!hide && <div className={classes.border} id=\"chartBorder\"/>}\r\n                <div className={classes.right} id=\"gainslosses\" style={{display: hide === 'gains' ? 'none': 'initial'}}>\r\n                    <div className={classes.title}>Gains/Losses</div>\r\n                    <div className={classes.chartHolder}>\r\n                        <div className={classes.partyBars}>\r\n                            {data.party && data.party.partyResults.map((party,i)=>{\r\n                                if (data.party.partyResults.length > 6) {\r\n                                    if (i < 5) {\r\n                                        return <PartyCard key={i} party={party} result={`${party.seatChange}`} />\r\n                                    }\r\n                                    else if (i === data.party.partyResults.length -1) {\r\n                                        return <PartyCard key={i} party={{nameShort: 'OTH', color: '#c0c0c0'}} result={`${party.seatChange}`} /> \r\n                                    }\t\r\n                                } else {\r\n                                    return <PartyCard key={i} party={party} result={`${party.seatChange}`} />\r\n                                }\r\n                            })}\r\n                        </div>\r\n                        {/* <GainsChart data={data.party} /> */}\r\n                        <GainsDiv data={data.party}/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            {/* <div>\r\n                <div className={classes.update}>Last updated: { Date(data.generated) }</div>\r\n            </div> */}\r\n        </div>\r\n        )\r\n}\r\n","import React, {useState, useContext, useEffect} from 'react'\r\n\r\nimport {makeStyles} from '@material-ui/core/styles'\r\n\r\nimport {DataContext} from '../../dataContext'\r\n\r\nconst useStyles = makeStyles({\r\n    meter: {\r\n        maxWidth: '95%',\r\n        position: 'relative',\r\n        minHeight: '20px',\r\n\r\n    },\r\n    bar: {\r\n      background: (props) =>\r\n        props.color, \r\n      width: '0%',\r\n      borderRadius: '0px 5px 5px 0px',\r\n      height: 10,\r\n      margin: 2,\r\n      animationName: 'animate-bar',\r\n      animationDuration: '0.5s',\r\n      transition: `width 300ms ease-in-out`,\r\n      transitionDelay: '100ms',\r\n      zIndex: 20\r\n\r\n    },\r\n    majorityLine: {\r\n        position: 'absolute',\r\n        height: '120%',\r\n        minHeight: '20px',\r\n        bottom: -2,\r\n        borderLeft: '2px solid black',\r\n        transition: `left 300ms ease-in-out`,\r\n    },\r\n    majorityLabel: {\r\n        position: 'absolute',\r\n        textAlign: 'left',\r\n        top: -25,\r\n        marginLeft: -7,\r\n        fontWeight: 'bolder',\r\n        transition: `right 300ms ease-in-out`,\r\n    }\r\n  });\r\n  \r\n\r\nfunction Bar(props) {\r\n    const { color, votes, ...other } = props;\r\n    const classes = useStyles(props);\r\n    return <div className={`animate-bar ${classes.bar}`} style={{width: votes}} {...other} />;\r\n}\r\n\r\nconst Barchart = (props) => {\r\n    const {data} = useContext(DataContext)\r\n    const [maxSeats, setMaxSeats] = useState(null)\r\n    const [majorityPosition, setMajorityPosition] = useState(50);\r\n    const classes = useStyles(props)\r\n    \r\n    useEffect(()=> {\r\n        console.log('barchart', data)\r\n        if (data) {\r\n            let leadingParty = props.data.partyResults[0];\r\n            if (leadingParty.seats >= props.majority) {\r\n                setMaxSeats(leadingParty.seats);\r\n                setMajorityPosition(props.majority/leadingParty.seats*100)\r\n            } else {\r\n                setMaxSeats(props.majority)\r\n                setMajorityPosition(props.majority/props.majority*100)\r\n            }\r\n        }\r\n    }, [props.data,props.seatTotal, props.majority])\r\n\r\n    return (\r\n        <div className={classes.meter}>\r\n            <div className={classes.majorityLabel} style={{right: `${100-majorityPosition}%`}}>{props.majority} {window.screen.availWidth > 250 && 'seats needed for majority'}</div>\r\n            {data && maxSeats && props.data.partyResults.map((party, i)=>{\r\n                // if (party.seats) {\r\n                    return <Bar key={i} color={party.color} votes={party.seats > 0 ? `${(party.seats/maxSeats)*100}%` : '0.5%'} />\r\n                // }\r\n                })    \r\n            }\r\n            <div className={classes.majorityLine} style={{left: `${majorityPosition}%`}}/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Barchart;","import React from 'react';\r\nimport {makeStyles} from '@material-ui/core/styles'\r\n\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\n\r\nconst useStyles=makeStyles({\r\n    root: {\r\n        display: 'flex', \r\n        alignItems: 'center',\r\n        paddingBottom: 15,\r\n        fontWeight: \"bolder\", \r\n        alignSelf: 'flex-start',\r\n        fontSize: 14,\r\n        '& svg': {\r\n            color: 'green',\r\n            fontSize: 20, \r\n            paddingRight: 5\r\n        }\r\n\r\n    }\r\n})\r\n\r\nconst Declaration = (props) => {\r\n    const classes = useStyles()\r\n    return (\r\n        <div className={props.declarationText && classes.root}>\r\n            <CheckCircleIcon />\r\n            {props.declarationText}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Declaration","import React, {useState, useEffect, useContext} from 'react'\r\nimport {makeStyles} from '@material-ui/core'\r\n\r\nimport {DataContext} from '../../dataContext'\r\nimport MajorityMeter from './MajorityMeter';\r\nimport Declaration from './Declaration';\r\nimport LiveUpdates from '../../utilities/LiveUpdates';\r\n\r\nconst styles = makeStyles({\r\n\tbarchartApp: {\r\n\t\theight: 250,\r\n\t\tposition: \"relative\",\r\n\t},\r\n\tmain: {\r\n\t\t// fontFamily: 'Roboto',\r\n\t\theight: '100%',\r\n\t\tdisplay: 'flex',\r\n\t\tposition: 'relative',\r\n\t\tflexDirection: 'column',\r\n\t\tpadding: '10px 10px',\r\n\t\tbackgroundColor: '#ededf0'\r\n\t},\r\n\ttitleRow: {\r\n\t\tflex:2,\r\n\t\tdisplay: 'flex', \r\n\t\tpadding: '0px 5px 5px 5px',\r\n\t\tjustifyContent: 'space-between'\r\n\t},\r\n\ttitle: {\r\n\t\tfontSize: 24,\r\n\t\t// paddingBottom: 10, \r\n\t\tfontWeight: 'bold'\r\n\t},\r\n\tdeclarationText: {\r\n\t\tpaddingTop: 5,\r\n\t\t'& #party' : {\r\n\t\t\tfontWeight: 'bold'\r\n\t\t},\r\n\t\t'& #majority': {\r\n\t\t\tfontSize: 14\r\n\t\t}\r\n\t},\r\n\tbarchart: {\r\n\t\tfontSize: 14,\r\n\t\tdisplay: 'flex',\r\n\t\tpadding: '15px 0px 10px 0px',\r\n\t\tflexDirection: 'column-reverse',\r\n\t\tflexWrap: 'wrap',\r\n\t\tflex:3, \r\n\t},\r\n\tpartyMap: {\r\n\t\tfontSize: 16,\r\n\t\tdisplay: 'flex',\r\n\t\tflex: 2,\r\n\t\talignContent: 'left',\r\n\t\toverflowX: 'auto',\r\n\t\tmaxHeight: 52\r\n\t},\r\n\tupdate: {\r\n\t\tfontSize: 10,\r\n\t\tpadding: '5px 0px 0px 5px'\r\n\r\n    },\r\n    partyContainer: {\r\n        width: '20%',\r\n\t\tpaddingTop: 5,\r\n\t\tdisplay: 'flex',\r\n        alignItems: 'center',\r\n        fontWeight: 'bold',\r\n\t\tfontSize: 14,\r\n        letterSpacing: 2,\r\n        padding: '5px 5px',\r\n        margin: 1,\r\n        borderRadius: 5,\r\n        color: 'white',\r\n        justifyItems: 'center',\r\n\t\tjustifyContent: 'space-between',\r\n    },\r\n    popVote:{\r\n        // paddingTop: 5,\r\n        fontWeight: 'bold',\r\n        fontSize: 14\r\n    }\r\n})\r\n\r\n\r\nexport default function App() {\r\n    const {data} = useContext(DataContext)\r\n    const classes = styles()\r\n\tconst [parties, setParties] = useState([])\r\n\tconst [declarationText, setDeclarationText] = useState('')\r\n    \r\n    useEffect(()=> {\r\n        if (data.party) {\r\n\t\t\tlet total = 0\r\n\t\t\tsetParties([])\r\n            data.party.partyResults.map((party, i)=>{\r\n\t\t\t\tsetParties(oldArray=>[...oldArray, {partyName: party.nameShort,id:i, seats: party.seats, color: party.color,votesPercent: party.votesPercent,votesTotal: party.votes}])\r\n\t\t\t\t\r\n\t\t\t})\r\n\t\t}\r\n\r\n    }, [data])\r\n\tuseEffect(()=>{\r\n        try {\r\n            if (data.party) {\r\n                if (data.declaration.overallResult.partyName && data.declaration.overallResult.resultText) {\r\n\t\t\t\t\tlet text = data.declaration.overallResult.partyName + ' ' + data.declaration.overallResult.resultText;\r\n\t\t\t\t\tif (text===declarationText) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetDeclarationText(text)\r\n\t\t\t\t\t}\r\n                } else \r\n                setDeclarationText('')\r\n            }\r\n        } catch (e) {\r\n            console.log('error setting declaration')\r\n        }\r\n      },[data])\r\n\r\n\r\n    const Party = (props) => {\r\n\t\tconst {party} = props\r\n\t\treturn (\r\n\t\t\t<div key={party.id} id=\"partyCard\" className={classes.partyContainer} style={{backgroundColor: party.color}}>\r\n\t\t\t\t<div>{party.partyName}</div>\r\n\t\t\t\t<div id=\"popVote\" className={classes.popVote}> {party.seats} </div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n    const LeadingText = () => {\r\n\t\tlet winner;\r\n\t\tlet leading = false;\r\n\t\tlet text;\r\n        if (data.party.partyResults[0].seats > data.party.partyResults[1].seats) {\r\n\t\t\twinner = data.party.partyResults[0].name\r\n\t\t\tleading = true\r\n        } else {\r\n\r\n\t\t}\r\n\r\n\t\tif (data.declaration.overallResult.resultText) {\r\n\t\t\ttext = 'elected ' + data.declaration.overallResult.resultText\r\n\t\t}\r\n\t\tconsole.log(text,winner)\r\n\t\treturn (\r\n            <div id=\"declarationText\" className={classes.declarationText}>\r\n                {leading && <>\r\n\t\t\t\t\t<span id=\"party\">{winner}s</span>\r\n\t\t\t\t\t<span id=\"helpertext\"> leading </span> \r\n\t\t\t\t\t{text &&\r\n\t\t\t\t\t\t<span>and elected</span>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t<span> - </span>\r\n\t\t\t\t</>\r\n\t\t\t\t}\r\n\t\t\t\t<span id=\"majority\">{data.config.majority} seats needed for majority</span>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className={classes.barchartApp}>\r\n            {data.party && \r\n             <div className={classes.main}>\r\n                <div className={classes.titleRow}>\r\n\t\t\t\t\t<div className={classes.left}>\r\n\t\t\t\t\t\t<div id=\"widgetTitle\" className={classes.title}>{data.config.title}</div>\r\n\t\t\t\t\t\t{declarationText ? <Declaration declarationText={declarationText} /> : <LeadingText />}\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n                <div className={classes.barchart}>\r\n                    <MajorityMeter seatTotal={data.config.seats} majority={data.config.majority} majorityPercent={(data.config.majority/data.config.seats)*100} data={data.party}/>\r\n                </div>\r\n                \r\n                <div className={classes.partyMap}>\r\n                    {parties.map(party=>{\r\n\t\t\t\t\t\treturn <Party key={party.id} party={party}/>\r\n\t\t\t\t\t})}\r\n                </div>\r\n\t\t\t\t{data.config.election_day &&\r\n\t\t\t\t\t// (new Date(data.config.election_day).getTime() < Date.now()) && \r\n\t\t\t\t\t<LiveUpdates time={data.party.generated} />\r\n\t\t\t\t}\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport './loading.css'\r\n\r\nexport default function loading() {\r\n    return (\r\n        <div className=\"lds-ring\"><div></div><div></div><div></div><div></div></div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Dialog, List, ListItem, makeStyles, IconButton } from '@material-ui/core'\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle'\r\nimport CloseIcon from '@material-ui/icons/Close'\r\nimport { useParams } from 'react-router-dom'\r\n\r\nconst styles = makeStyles({\r\n    dialogRoot: {\r\n        height: '100%',\r\n        overflow: 'hidden', \r\n        display: 'flex', \r\n        flexDirection: 'column', \r\n        position: 'relative',\r\n        // width: 600,\r\n        '& ul': {\r\n            overflow: 'auto', \r\n            height: '100%', \r\n        }\r\n    },\r\n    resultsList: {\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        flexGrow: 1\r\n    },\r\n    candidateRoot: {\r\n        position: 'relative',\r\n        display: 'flex', \r\n        flexDirection: 'row',\r\n        height: 120,\r\n        padding: 10, \r\n    },\r\n    header: {\r\n        display: 'flex', \r\n        justifyContent: 'space-between', \r\n        padding: 10, \r\n        fontFamily: 'Arial',\r\n        '& .dialogTitle': {\r\n            fontSize: 24\r\n        }\r\n\r\n    },\r\n    resultsInfo: {\r\n        display: 'flex', \r\n        alignItems: 'center',\r\n        justifyContent: 'space-between',\r\n        '& #pollsReported': {\r\n            fontSize: 12,\r\n            fontWeight: 'bolder'\r\n        },\r\n        '& #totalVotes': {\r\n            fontSize: 10,\r\n            color: 'darkslategrey'\r\n        }\r\n    },\r\n    imageDiv: {\r\n        height: '100%',\r\n        position: 'relative',\r\n        // marginBottom: 25,\r\n        minWidth: 50,\r\n        width: props=>props.screensize < 700 ? 50 : 70,\r\n        borderRadius: '8px',\r\n        overflow: 'hidden',\r\n        '& #partyCode': {\r\n            position: 'absolute', \r\n            bottom: 8,\r\n            color: 'white',\r\n            width: '100%',\r\n            textAlign: 'center'\r\n        },\r\n        '& img': {\r\n            width: '100%',\r\n            transition: 'width 500ms'\r\n        }\r\n    },\r\n    candidateLeftDiv: {\r\n        flex: 3, \r\n        display: 'flex', \r\n        flexDirection: 'column',\r\n        alignSelf: 'flex-start',\r\n        padding: '10px 0 10px 10px',\r\n\r\n        '& #candidateIncumbent': {\r\n            fontSize: 13,\r\n            fontWeight: 'lighter'\r\n        }\r\n    },\r\n    candidateName: {\r\n        fontWeight: 'bolder',\r\n        \r\n    }, \r\n    candidateRightDiv: {\r\n        flex: 2, \r\n        justifySelf: 'flex-end',\r\n        display: 'flex', \r\n        flexDirection: 'column',\r\n        height: '80%',\r\n        justifyContent: 'space-between',\r\n        '& #candidateElected': {\r\n            display: 'flex', \r\n            alignItems: 'center',\r\n            justifyContent: 'flex-end',\r\n            fontSize: props=>props.screensize < 700 ? 12 : 14,\r\n        }\r\n    },\r\n    votesDiv: {\r\n        textAlign: 'right',\r\n        display: 'flex', \r\n        justifyContent: 'space-between', \r\n        flexDirection: 'column',\r\n        flexGrow: 1,\r\n        '& #votesPercent': {\r\n            fontSize: 22,\r\n            fontWeight: 'bolder'\r\n        },\r\n        '& #votesTotal': {\r\n            fontSize: props=>props.screensize < 700 ? 12 : 14,\r\n            fontWeight: 'lighter'\r\n        }\r\n    },\r\n    polls: {\r\n        fontSize: 16,\r\n        fontWeight: 100\r\n    }\r\n})\r\n\r\nexport default function SimpleDialog({results, handleClose, getColor, open}) {\r\n    const {prov} = useParams()\r\n    const classes = styles()\r\n    return (\r\n        <Dialog open={open} onClose={handleClose} >\r\n            <div className={classes.dialogRoot} id=\"filterDiolog\" >\r\n            <div  className={classes.header}>\r\n                <div>\r\n                    <div className=\"dialogTitle\">\r\n                        {results.name}\r\n                    </div>\r\n                    <div className={classes.polls}>\r\n                        {results.pollsReported}/{results.pollsTotal} polls reporting\r\n                    </div>\r\n                </div>\r\n                <IconButton aria-label=\"close\" className={classes.closeButton} onClick={handleClose}>\r\n                    <CloseIcon   />\r\n                </IconButton>\r\n            </div>\r\n            <div className={classes.resultsList}>\r\n            <List >\r\n                {results && results.results.map((candidate, i)=>{\r\n                    let partyData = getColor(candidate)\r\n                    return (\r\n                        <ListItem key={i} className={classes.candidateRoot}>\r\n                             <div style={{backgroundColor: partyData.color}} className={classes.imageDiv}>\r\n                                <img alt=\"Candidate Headshot\" name={candidate.name} onLoad={e=>e.target.style.width = \"100%\"} onError={(e) => { e.target.onError = null; e.target.src =`data/img/no_headshot.png`}} src={`data/${prov}/headshots/${candidate.cachedHeadFilename.split('.').slice(0,-1).join('').concat('.jpg')}`}/>\r\n                                {/* <div id=\"partyCode\" style={{fontWeight: 'bolder',color: partyData.color === '#C0C0C0' ? 'black' : 'white' }}>{candidate.partyCode}</div> */}\r\n\r\n                            </div>\r\n                            <div className={classes.candidateLeftDiv}>\r\n                                <div className={classes.candidateName}>\r\n                                    <div id=\"candidateLast\">{candidate.name}</div>\r\n                                    {/* <div id=\"candidateFirst\">{candidate.firstName}</div>\r\n                                    <div id=\"candidateLast\" >{candidate.lastName}</div> */}\r\n                                </div>\r\n                                <div id=\"partyCode\" style={{fontWeight: 'bolder',color: partyData.color}}>{candidate.partyCode}</div>\r\n\r\n                                <div id=\"candidateIncumbent\">{candidate.isIncumbent && 'Incumbent'}</div>\r\n                            </div>\r\n                            <div className={classes.candidateRightDiv}>\r\n                                <div className={classes.votesDiv}>\r\n                                    <div id='votesPercent'>{candidate.percent}%</div>\r\n                                    <div id='votesTotal'>{candidate.votes.toLocaleString('en')} total votes</div>\r\n                                </div>\r\n                                {candidate.isElected ? <div id=\"candidateElected\">\r\n                                    <CheckCircleIcon style={{paddingRight: 5, fontSize: 14, color: 'green'}} /> Elected\r\n                                </div>\r\n                                :\r\n                                <div style={{fontSize: 14}}/>\r\n                                }\r\n                            </div>\r\n                        </ListItem>\r\n                    )\r\n                })}\r\n            </List>\r\n            </div>\r\n            </div>\r\n        </Dialog>\r\n    )\r\n}\r\n","import React, { useState, useContext, useEffect } from 'react';\r\nimport {makeStyles} from '@material-ui/core'\r\nimport {DataContext} from '../../dataContext'\r\nimport SimpleDialog from './SimpleDialog';\r\n\r\nconst styles = makeStyles({\r\n    resultsRoot: {\r\n        display: 'flex', \r\n        padding: '0px 5px',\r\n        display: 'flex', \r\n        flexDirection: 'column'\r\n    }, \r\n    title: {\r\n        textTransform: 'uppercase',\r\n        fontFamily: 'Arial',\r\n        paddingLeft: 5,\r\n        paddingBottom: 10,\r\n        fontSize: 24,\r\n        textAlign: 'center'\r\n    },\r\n    candidateContainer: {\r\n        display: 'flex', \r\n        flexDirection: 'column'\r\n\r\n    },\r\n    candidateRoot: {\r\n        position: 'relative',\r\n        display: 'flex', \r\n        flexDirection: 'row',\r\n        // height: 120,\r\n        padding: '10px 0', \r\n        cursor: 'pointer',\r\n    },\r\n    resultsInfo: {\r\n        display: 'flex', \r\n        alignItems: 'center',\r\n        justifyContent: 'space-between',\r\n        '& #pollsReported': {\r\n            fontSize: 12,\r\n            fontWeight: 'bolder'\r\n        },\r\n        '& #totalVotes': {\r\n            fontSize: 10,\r\n            color: 'darkslategrey'\r\n        }\r\n    },\r\n    imageDiv: {\r\n        height: props=>props.screensize < 700 ? 100 : 120,\r\n        position: 'relative',\r\n        marginBottom: 25,\r\n        minWidth: 50,\r\n        width: props=>props.screensize < 700 ? 50 : 70,\r\n        borderRadius: '8px',\r\n        overflow: 'hidden',\r\n        '& #partyCode': {\r\n            position: 'absolute', \r\n            bottom: 8,\r\n            color: 'white',\r\n            width: '100%',\r\n            textAlign: 'center'\r\n        },\r\n        '& img': {\r\n            width: '100%',\r\n            transition: 'width 500ms'\r\n        }\r\n    },\r\n    candidateLeftDiv: {\r\n        flex: 3, \r\n        display: 'flex', \r\n        flexDirection: 'column',\r\n        justifyContent: 'space-between',\r\n\r\n        '& #candidateRiding': {\r\n            flex: 1,\r\n            fontSize: 24,\r\n            fontWeight: 'bolder',\r\n            paddingBottom: 10\r\n        }\r\n    },\r\n    candidateName: {\r\n        flex: 3, \r\n        display: 'flex', \r\n        flexDirection: 'column',\r\n        justifyContent: 'center',\r\n        '& #candidateName': {\r\n            fontWeight: 'lighter',\r\n            fontSize: 22,\r\n        },\r\n        '& #candidateParty': {\r\n            fontSize: 24, \r\n            fontWeight: 'bold', \r\n        }\r\n    }, \r\n    candidateRightDiv: {\r\n        flex: 2, \r\n        justifySelf: 'flex-end',\r\n        display: 'flex', \r\n        flexDirection: 'column',\r\n        paddingLeft: '10px',\r\n        justifyContent: 'space-between',\r\n        '& #pollsDiv': {\r\n            textAlign: 'right',\r\n            paddingBottom: 10\r\n        },\r\n        '& #candidateElected': {\r\n            display: 'flex', \r\n            alignItems: 'center',\r\n            justifyContent: 'flex-end',\r\n            fontSize: props=>props.screensize < 700 ? 12 : 14,\r\n        }\r\n    },\r\n    votesDiv: {\r\n        textAlign: 'right',\r\n        display: 'flex', \r\n        justifyContent: 'center',\r\n        flexDirection: 'column',\r\n        flexGrow: 1,\r\n        '& #votesLabel': {\r\n            fontSize: props=>props.screensize < 700 ? 16 : 22,\r\n            fontWeight: 'bolder'\r\n        },\r\n        '& #votesTotal': {\r\n            fontSize: props=>props.screensize < 700 ? 12 : 14,\r\n            fontWeight: 'lighter'\r\n        }\r\n    }\r\n})\r\n\r\nfunction ResultsBox({results, filter}) {\r\n    const classes = styles()\r\n    const [ridingResults, setRidingResults] = useState('')\r\n    const [show, toggleShow] = useState(false)\r\n    const {data} = useContext(DataContext)\r\n\r\n    // useEffect(()=> {\r\n    //    console.log('check',localStorage.getItem('show') === 'true', results)\r\n    // },[])\r\n\r\n    const getColor = (candidate) => {\r\n        const partyCode = candidate.partyCode\r\n        let partyInfo = data.party.partyResults.find(party => {\r\n            return party.nameShort === partyCode\r\n        })\r\n        if (partyInfo) {\r\n            return partyInfo\r\n        } else if (partyCode === \"GRN\") {\r\n            return {color: \"#4EAA3C\",\r\n            name: \"Green\",\r\n            nameShort: \"GRN\"}\r\n        } else \r\n        return {\r\n            color: \"#C0C0C0\",\r\n            name: \"Other\",\r\n            nameShort: \"OTH\"\r\n        }\r\n    }\r\n\r\n    const getRidingResults = (ridingName) => {\r\n        let riding =  data.full.data.find(el=>el.name === ridingName)\r\n        setRidingResults(riding);\r\n        toggleShow(true)\r\n        localStorage.setItem('show', true)\r\n    }\r\n    const handleClose = () => {\r\n        toggleShow(false);\r\n        localStorage.setItem('show', false)\r\n    }\r\n\r\n    return (\r\n        <div className={classes.resultsRoot}>\r\n            <div className={classes.title}>{filter}</div>\r\n            <div className={classes.candidateContainer}>\r\n            {(filter && results.data.length > 0) ? results.data.map((candidate,i)=>{\r\n                const partyData = getColor(candidate)\r\n                return (<div key={i} id=\"filteredCandidate\" className={classes.candidateRoot} onClick={()=>getRidingResults(candidate.riding)}>\r\n                    {/* <div style={{backgroundColor: partyData.color}} className={classes.imageDiv}>\r\n                        {/* <img ref={imgRef} alt=\"Candidate Headshot\" name={candidate.name} onLoad={e=>e.target.style.width = \"100%\"} onError={(e) => { e.target.onError = null; e.target.src =`/img/no_headshot.png`}} src={`/image/${props.prov}/${candidate.cachedHeadFilename}`}/> */}\r\n                        {/* <div id=\"partyCode\" style={{fontWeight: 'bolder',color: partyData.color === '#C0C0C0' ? 'black' : 'white' }}>{candidate.partyCode}</div> */}\r\n                    {/* </div> */}\r\n                    <div className={classes.candidateLeftDiv}>\r\n                        <div id=\"candidateRiding\">                            \r\n                            {candidate.riding}\r\n                        </div>\r\n                        <div className={classes.candidateName}>\r\n                            <div id=\"candidateName\">{candidate.firstName + ' ' + candidate.lastName}</div>\r\n                            <div id=\"candidateParty\" style={{ color: partyData.color}}>{candidate.partyCode}</div>\r\n                         </div>\r\n                        \r\n                    </div>\r\n                    <div className={classes.candidateRightDiv}>\r\n                        <div id='pollsDiv'>\r\n                                <div>{candidate.pollsReported}/{candidate.pollsTotal} polls reporting</div>\r\n                        </div>\r\n                        <div className={classes.votesDiv}>\r\n                            <div>\r\n                                <div id='votesLabel'>Leading By: </div>\r\n                                <div>{candidate.lead} votes</div>\r\n                                <div>{candidate.leadPercent}%</div>\r\n                            </div>\r\n                            \r\n                        </div>\r\n                        {candidate.isElected ? <div id=\"candidateElected\">\r\n                            {/* <CheckCircleIcon style={{paddingRight: 5, fontSize: 14, color: 'green'}} /> Elected */}\r\n                        </div>\r\n                        :\r\n                        <div style={{fontSize: 14}}/>\r\n                        }\r\n                    </div>\r\n                </div>)\r\n            }):\r\n            <div>No contest meets filter criteria</div>\r\n            }\r\n            </div>\r\n            {results && <SimpleDialog getColor={getColor} results={ridingResults} open={show} handleClose={()=>handleClose(false)}/>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ResultsBox\r\n","import React, { useState, useEffect, useRef, useContext } from 'react';\r\nimport {FormControl, InputLabel, ListSubheader, makeStyles, MenuItem, Select} from '@material-ui/core'\r\n\r\nimport {DataContext} from '../../dataContext'\r\n\r\nimport Loading from './Loading'\r\n\r\nimport { useParams} from 'react-router-dom'\r\nimport ResultsBox from './ResultsBox';\r\n\r\nconst styles = makeStyles({\r\n    root: {\r\n        width: '100%',\r\n        display: 'flex',\r\n        height: '100%',\r\n        overflow: 'hidden',\r\n        flexDirection: 'column',\r\n        fontFamily: 'Arial'\r\n    },\r\n    title: {\r\n        background: '#9e9e9e',\r\n        padding: 10, \r\n        fontSize: 24,\r\n        color: 'white'\r\n    },\r\n    selectContainer: {\r\n        width: 200,\r\n        padding: 20\r\n    },\r\n    formControl: {\r\n        width: '100%',\r\n    }, \r\n    main: {\r\n        overflow: 'auto', \r\n        flexGrow: 1\r\n    },\r\n    resultsContainer: {\r\n        overflowY: 'auto',\r\n        overflowX: 'hidden'\r\n        \r\n    }\r\n})\r\n\r\nfunction FilteredResultsApp() {\r\n    const {data} = useContext(DataContext)\r\n    const [filter, setFilter] = useState(null)\r\n    const [results, setResults] = useState({})\r\n    const [loading, toggleLoading] = useState(true)\r\n    const [show, setShow] = useState(false)\r\n    // const [loading, setLoading] = useState(true)\r\n    const classes = styles()\r\n    let {prov, year, loadfilter} = useParams()\r\n\r\n    const [selects, setSelects] = useState([])\r\n\r\n    const handleChange = (value) => {\r\n        if (value) {\r\n            setFilter(value);\r\n        }\r\n    }\r\n\r\n    const getData = (list) => {\r\n        if (list.length > 0) {\r\n            let requests = list.map(el=>fetch(`data/${prov}/data/${year}/filtered/${el.filename}`, {cache: 'no-cache'}).then(res=>res.json()));\r\n            Promise.all(requests).then(res=>{\r\n                res.forEach((el,i)=>{\r\n                    setResults(state=>({...state, [`${list[i].label}`]: el}))\r\n                })\r\n\r\n            }).then(()=>{\r\n                toggleLoading(false);\r\n            })\r\n        } else {\r\n            setResults(null)\r\n        }\r\n    }\r\n\r\n    useEffect(()=> {\r\n        let interval;\r\n        if (data.config) {\r\n            getData(data.config.filteredResults)\r\n            getSelect()\r\n            setInterval(()=> {\r\n                getData(data.config.filteredResults)\r\n            }, data.config.timer)\r\n\r\n            if (loadfilter) {\r\n                console.log('loadfilter')\r\n                const findFilter = data.config.filteredResults.find(el=>el.urlSlug.toLowerCase() === loadfilter.toLowerCase())\r\n                if (findFilter) {\r\n                    handleChange(findFilter.label)\r\n                }\r\n            }\r\n        } else {\r\n            toggleLoading(false)\r\n        }\r\n        return () => {\r\n            clearInterval(interval)\r\n        }\r\n    }, [data.config])\r\n    \r\n\r\n    const GetResults = () => {\r\n        if (results[filter]) {\r\n            // console.log(results, filter)\r\n            return (\r\n                <ResultsBox results={results[filter] && results[filter]} filter={filter}/>\r\n            )\r\n        } else {\r\n            return (\r\n                <p style={{paddingLeft: 20, }}>Select Filter to view Results</p>\r\n            )\r\n        }\r\n        \r\n    }\r\n\r\n    const getSelect = () => {\r\n        let list = []\r\n        if (data.config.filteredResults) {\r\n            let subheader;\r\n            for (let i=0; i< data.config.filteredResults.length;) {\r\n                // if (data.config.filteredResults[i].heading !== subheader) {\r\n                //     list.push(<ListSubheader disabled style={{position: 'relative !important'}}>{data.config.filteredResults[i].heading}</ListSubheader>)\r\n                //     subheader = data.config.filteredResults[i].heading;\r\n                // } else {\r\n                list.push(<MenuItem value={data.config.filteredResults[i].label}>{data.config.filteredResults[i].label}</MenuItem>)\r\n                i++;\r\n                // }\r\n            }\r\n        } \r\n        setSelects(list)\r\n    }\r\n\r\n    if (loading) {\r\n        return (\r\n            <Loading />\r\n        )\r\n    } else {\r\n        return (\r\n            <div className={classes.root}>\r\n                {/* <div className={classes.title}>Filtered Results</div> */}\r\n                {results ? \r\n                <>\r\n                    <div className={classes.selectContainer}>\r\n                        <FormControl className={classes.formControl}>\r\n                            <InputLabel shrink={filter ? true : false}>Filter</InputLabel>\r\n                            <Select \r\n                                value={filter} \r\n                                onChange={(e) => handleChange(e.target.value)}\r\n                                id=\"grouped-select\">\r\n                                {selects\r\n                                // data.config.filteredResults.map(filter=>{\r\n                                //     let newSubheader = filter.heading !== subheader\r\n                                //     subheader = filter.heading\r\n                                //     return (\r\n                                //         <MenuItem value={filter.label}>\r\n                                //             {filter.label}\r\n                                //         </MenuItem>\r\n                                //     )\r\n                                // })\r\n                                }\r\n                            </Select>\r\n                        </FormControl>\r\n                    </div>  \r\n                    <div className={classes.resultsContainer}>\r\n                        {results && <GetResults/>}\r\n                    </div>\r\n                </>\r\n                :\r\n                <div style={{padding: 20, alignSelf: 'center'}}>\r\n                    Filtered results not available for current election\r\n                </div>}\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\nexport default FilteredResultsApp\r\n","import React, {useState, useEffect} from 'react'\r\n\r\nimport {makeStyles} from '@material-ui/core/styles'\r\n\r\nconst useStyles = makeStyles({\r\n    meter: props =>({\r\n        width: '100%',\r\n        // marginLeft: 10,\r\n        position: 'relative',\r\n        marginTop: 14\r\n    }),\r\n    bar: {\r\n      background: (props) =>\r\n        props.color, \r\n      width: (props) => props.votes,\r\n      borderRadius: '0px 5px 5px 0px',\r\n      height: 5,\r\n      margin: 1,\r\n    },\r\n    majorityLine: {\r\n        position: 'absolute',\r\n        height: '120%',\r\n        bottom: -2,\r\n        borderLeft: (props)=> props.small ? '1px solid black' : '2px solid black',\r\n    },\r\n    majorityLabel: props=>({\r\n        position: 'absolute',\r\n        marginTop: props.small ? -14 : -18,\r\n        paddingRight: 5,\r\n        fontSize: 12,\r\n        fontWeight: 'bolder',\r\n        transform: 'translate(-7px, -1px)'\r\n    })\r\n\r\n\r\n  });\r\n  \r\n\r\nfunction Bar(props) {\r\n    const { color, votes, ...other } = props;\r\n    const classes = useStyles(props);\r\n    return <div className={classes.bar} {...other} />;\r\n}\r\n\r\nconst MajorityMeter = (props) => {\r\n    \r\n    // const { color, ...other } = props;\r\n\r\n    const [maxSeats, setMaxSeats] = useState(25)\r\n    const [difference, setDifference] = useState(0);\r\n    const [majorityPosition, setMajorityPosition] = useState(50);\r\n    const [leading, setLeading] = useState(0)\r\n    const classes = useStyles(props)\r\n    \r\n    useEffect(()=> {\r\n        if (props.data) {\r\n            let leadingParty = props.data.partyResults[0];\r\n            // console.log('leading', props.seatTotal)\r\n            if (leadingParty.seats >= props.majority) {\r\n                setMaxSeats(leadingParty.seats);\r\n                setMajorityPosition(props.majority/leadingParty.seats*100)\r\n            } else {\r\n                setMaxSeats(props.majority)\r\n                setMajorityPosition(props.majority/props.majority*100)\r\n            }\r\n        }\r\n    }, [props.data,props.seatTotal, props.majority])\r\n\r\n    return (\r\n        <div className={classes.meter}>\r\n            <div className={classes.majorityLabel} style={{left: `${majorityPosition}%`, top: 0}}>{props.majority}</div>\r\n\r\n            {/* <div className={classes.majorityLabel} style={{right: `${100-majorityPosition}%`}}>{props.majority} seats needed for majority</div> */}\r\n            {props.data && props.data.partyResults.map((party, i)=>{\r\n                if (i < 4) {\r\n                    return <Bar key={i} color={party.color} votes={party.seats > 0 ? `${(party.seats/maxSeats)*100}%` : '2%'} />\r\n                }\r\n            })    \r\n            }\r\n            {/* {console.log('majority',majority)} */}\r\n            <div className={classes.majorityLine} style={{left: `${majorityPosition}%`}}/>\r\n\r\n        </div>\r\n    );\r\n}\r\nexport default MajorityMeter;","import React from 'react'\r\n\r\nimport { makeStyles } from '@material-ui/core'\r\n\r\nconst styles = makeStyles({\r\n    seatMap: {\r\n\t\tdisplay: 'flex',\r\n\t\tflexDirection: 'column-reverse',\r\n\t\tflexWrap: 'wrap',\r\n\t\theight: '100%',\r\n\t\tposition: 'relative'\r\n\t},\r\n    seat: {\r\n\t\theight: '15%',\r\n        margin: '0.1%',\r\n        flexShrink: 1,\r\n\t\tpaddingBottom: 5\r\n\t},\r\n})\r\n\r\n\r\nexport default function SeatMap({seats}) {\r\n    const classes = styles()\r\n\r\n    const Seat = (props) => {\r\n\t\treturn (\r\n\t\t\t<div key={`${props.party}-${props.el}`} className={classes.seat} style={{backgroundColor: props.color}} />\r\n\t\t);\r\n\t}\r\n\r\n    return (\r\n    <div className={classes.seatMap}>\r\n        {seats.map((seat, i)=>{\r\n                return <Seat key={seat.party+'-'+i} party={seat.party} el={seat.id} color={seat.color}/>\r\n            })\r\n        }\r\n    </div>\r\n  )\r\n}\r\n","import React, {useEffect, useState} from 'react';\r\nimport {makeStyles} from '@material-ui/core/styles'\r\n\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\n\r\nconst useStyles=makeStyles({\r\n    root: {\r\n        display: 'flex', \r\n        alignItems: 'center',\r\n        paddingBottom: 5,\r\n        fontWeight: \"bolder\", \r\n        alignSelf: 'flex-start',\r\n        fontSize: 14,\r\n        '& svg': {\r\n            color: 'green',\r\n            fontSize: 20, \r\n            paddingRight: 5\r\n        }\r\n\r\n    }\r\n})\r\n\r\nconst Declaration = (props) => {\r\n    const classes = useStyles()\r\n    \r\n\r\n    return (\r\n        <div className={props.declarationText && classes.root}>\r\n            <CheckCircleIcon color=\"green\" />\r\n            {props.declarationText}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Declaration","import React, {useContext, useState, useEffect} from 'react'\r\n\r\nimport {makeStyles} from '@material-ui/core/styles';\r\n\r\nimport {DataContext} from '../../dataContext'\r\n\r\nimport MajorityMeter from '../../utilities/MajorityMeter'\r\nimport Declaration from './Declaration'\r\nimport LiveUpdates from '../../utilities/LiveUpdates';\r\nimport SeatMap from '../../utilities/SeatMap';\r\nimport { useParams } from 'react-router-dom';\r\n\r\n\r\nconst styles = makeStyles({\r\n\tseatApp: {\r\n\t\theight: 450,\r\n\t\tposition: \"relative\",\r\n\t\tbackgroundColor: '#ededf0',\r\n\t\tpadding: 10\r\n\t},\r\n\tmain: {\r\n\t\t// fontFamily: 'Roboto',\r\n\t\tdisplay: 'flex',\r\n\t\tposition: 'relative',\r\n\t\tflexDirection: 'column',\r\n\t\theight: '100%'\r\n\t},\r\n\tleft: {\r\n\t\tflex: 4\r\n\t},\r\n\ttitleRow: {\r\n\t\tdisplay: 'flex', \r\n\t\tflex: '1',\r\n\t\t// padding: '0px 5px',\r\n\t\tpaddingBottom: 5,\r\n\t\tjustifyContent: 'space-between'\r\n\t},\r\n\ttitle: props=> ({\r\n\t\tfontSize: props.small ? 18  : 24,\r\n\t\tfontWeight: 'bold',\r\n\t\tpaddingRight: 20\r\n\t}),\r\n\tmajorityMeter: props => ({\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center',\r\n\t\ttextAlign: 'right',\r\n\t\tfontSize: 12,\r\n\t\tflex: 1\r\n\t}),\r\n\tdeclarationText: {\r\n\t\tpaddingTop: 5,\r\n\t\t'& #party' : {\r\n\t\t\tfontWeight: 'bold'\r\n\t\t},\r\n\t\t'& #majority': {\r\n\t\t\tfontSize: 14\r\n\t\t}\r\n\t},\r\n\tseatContainer: {\r\n\t\tflex: '2',\r\n\t\tposition: 'relative',\r\n\t\toverflow: 'hidden',\r\n\t\tflexGrow: 3\r\n\t},\r\n\tpartyMap: {\r\n\t\tdisplay: 'flex',\r\n\t\tflex: '5',\r\n\t\tjustifyContent: 'flex-start',\r\n\t\tpadding: '5px 0px',\r\n\t\toverflowX: 'auto',\r\n\t\tgap: 10\r\n\t},\r\n\tpartyContainer: {\r\n\t\tflex: 1,\r\n        // width: '20%',\r\n\t\t// paddingTop: 5,s\r\n\t\tdisplay: 'flex',\r\n\t\tflexDirection: 'column',\r\n        // alignItems: 'center',\r\n        // fontWeight: 'bold',\r\n        // fontSize: 14,\r\n        // letterSpacing: 2,\r\n        // padding: '5px 5px',\r\n        // margin: 1,\r\n        borderRadius: 5,\r\n        // color: 'white',\r\n        // justifyItems: 'center',\r\n\t\t// justifyContent: 'space-between',\r\n\t\t// '& #partySeatsTotal': {\r\n\t\t// \tfontSize: 18\r\n\t\t// }\r\n\t\t'& #partyImg': {\r\n\t\t\tflex:4, \r\n\t\t\toverflow: 'hidden',\r\n\t\t\tmarginLeft: 'auto', \r\n\t\t\tmarginRight: 'auto',\r\n\t\t\t'& img': {\r\n\t\t\t\twidth: 'auto', \r\n\t\t\t\tposition: 'relative', \r\n\t\t\t\theight: 'auto', \r\n\t\t\t\tborderRadius: 5, \r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t},\r\n\t\t'& #partyCard': {\r\n\t\t\tflex: 3, \r\n\t\t\tborderRadius: 5, \r\n\t\t\tdisplay: 'flex', \r\n\t\t\tflexDirection: 'column', \r\n\t\t\talignItems: 'center', \r\n\t\t\tjustifyContent: 'center',\r\n\t\t\ttextAlign: 'center'\r\n\t\t}, \r\n\t\t'& #leaderNames': {\r\n\t\t\t'& #partyName': {\r\n\t\t\t\tfontWeight: 'bold'\r\n\t\t\t},\r\n\t\t\t'& #leaderName': {\r\n\t\t\t\tfontSize: 14\r\n\t\t\t}\r\n\t\t}, \r\n\t\t'& #leaderSeats': {\r\n\t\t\tfontSize: '2rem'\r\n\t\t}\r\n    },\r\n    popVote:{\r\n        padding: '5px 0px',\r\n        fontWeight: 'bold',\r\n        fontSize: 20\r\n\t},\r\n\tupdate: {\r\n\t\t// flex:1,\r\n\t\tfontSize: 10\r\n\t}\r\n})\r\n\r\n\r\nexport default function App() {\r\n    const {data} = useContext(DataContext)\r\n\tconst [seats, setSeats] = useState([])\r\n\tconst [parties, setParties] = useState([])\r\n\tconst [declarationText, setDeclarationText] = useState('')\r\n\r\n    const classes = styles()\r\n\r\n\tconst date = new Date()\r\n\r\n\tconst {prov} = useParams()\r\n\r\n    useEffect(()=>{\r\n\r\n        try {\r\n            if (data.party) {\r\n                if (data.declaration.overallResult.partyName && data.declaration.overallResult.resultText) {\r\n\t\t\t\t\tlet text = data.declaration.overallResult.partyName + ' ' + data.declaration.overallResult.resultText;\r\n\t\t\t\t\tif (text===declarationText) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetDeclarationText(text)\r\n\t\t\t\t\t}\r\n                } else \r\n                setDeclarationText('')\r\n            }\r\n        } catch (e) {\r\n            console.log('error setting declaration')\r\n        }\r\n    \r\n      },[data])\r\n\r\n    useEffect(()=> {\r\n        if (data.party) {\r\n\t\t\tlet total = 0\r\n\t\t\tsetSeats([])\r\n\t\t\tsetParties([])\r\n            data.party.partyResults.map((party, i)=>{\r\n\t\t\t\tfor (let j=0; j<party.seats; j++) {\r\n\t\t\t\t\ttotal++\r\n                    setSeats( oldArray=> [ ...oldArray, { party: party.nameShort,  id: j, color: party.color }])\r\n\t\t\t\t}\r\n\t\t\t\tif (i <=data.party.partyResults.length-1 && i >4) {\r\n\t\t\t\t\tif (!party.seats) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tsetParties(oldArray=>[...oldArray, {partyName: party.nameShort,id:i, seats: party.seats, color: party.color,votesPercent: party.votesPercent,votesTotal: party.votes}])\r\n\t\t\t\t\r\n\t\t\t})\r\n\t\t\tif (total < data.config.seats) {\r\n\t\t\t\tfor (let k=0; k<data.config.seats-total; k++) {\r\n\t\t\t\t\tsetSeats( oldArray=> [ ...oldArray, { party: 'none',  id: k, color: '#e0e0e0' }])\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}, [data])\r\n\r\n\tconst Seat = (props) => {\r\n\t\treturn (\r\n\t\t\t<div key={`${props.party}-${props.el}`} className={classes.seat} style={{backgroundColor: props.color}} />\r\n\t\t);\r\n\t}\r\n\r\n    const LeadingText = () => {\r\n\t\tlet winner;\r\n\t\tlet leading = false;\r\n\t\tlet text;\r\n        if (data.party.partyResults[0].seats > data.party.partyResults[1].seats) {\r\n\t\t\twinner = data.party.partyResults[0].name\r\n\t\t\tleading = true\r\n        } else {\r\n\r\n\t\t}\r\n\r\n\t\tif (data.declaration.overallResult.resultText) {\r\n\t\t\ttext = 'elected ' + data.declaration.overallResult.resultText\r\n\t\t}\r\n\t\treturn (\r\n            <div id=\"declarationText\" className={classes.declarationText}>\r\n                {leading && <>\r\n\t\t\t\t\t<span id=\"party\">{winner}s</span>\r\n\t\t\t\t\t<span id=\"helpertext\"> leading </span> \r\n\t\t\t\t\t{text &&\r\n\t\t\t\t\t\t<span>and elected</span>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t<span> - </span>\r\n\t\t\t\t</>\r\n\t\t\t\t}\r\n\t\t\t\t<span id=\"majority\">{data.config.majority} seats needed for majority</span>\r\n            </div>\r\n        )\r\n    }\r\n\tconst getLeaders = (partyName) => {\r\n\t\tif (data.leaders) {\r\n\t\t\tconsole.log(partyName)\r\n\t\t\tlet leaderData = data.leaders.parties.find(party=>{\r\n\t\t\t\treturn party.partyNameShort === partyName\r\n\t\t\t});\r\n\t\t\treturn leaderData\r\n\t\t} else return null\r\n\t}\r\n\r\n    const Party = (props) => {\r\n\t\tconst {party} = props; \r\n\t\tconst leader = getLeaders(party.partyName)\r\n\t\tconsole.log(`data/${prov}/headshots/${leader.imgName}`)\r\n\t\treturn (\r\n\t\t\t<div className={classes.partyContainer}>\r\n\t\t\t\t<div className={classes.partyImgBox} id=\"partyImg\">\r\n\t\t\t\t\t{leader.imgName && <img src={`data/${prov}/headshots/${leader.imgName}`} alt={`Leader for ${leader.partyName}`}/>}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div key={party.id} id=\"partyCard\" className={classes.partyChiclet} style={{backgroundColor: party.color, color: leader.color}}>\r\n\t\t\t\t\t<div id=\"leaderNames\">\r\n\t\t\t\t\t\t<div id=\"partyName\">{leader.partyName}</div>\r\n\t\t\t\t\t\t<div id=\"leaderName\">{leader.partyLeader}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div id=\"leaderSeats\" className={classes.popVote}> {party.seats} </div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n    return (\r\n        <div className={classes.seatApp}>\r\n\t\t\t{(data.party && seats && parties) && \r\n\t\t\t<div className={classes.main}>\r\n\t\t\t\t<div className={classes.titleRow} id=\"widgetTitleRow\">\r\n\t\t\t\t\t<div className={classes.left}>\r\n\t\t\t\t\t\t<div id=\"widgetTitle\" className={classes.title}>{data.config.title}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{<div className={classes.majorityMeter}>\r\n\t\t\t\t\t\t<MajorityMeter seatTotal={data.config.total} majority={data.config.majority} majorityPercent={(data.config.majority/data.config.total)*100} data={data.party}/>\r\n\t\t\t\t\t</div>}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={classes.partyMap}>\r\n\t\t\t\t\t{parties.map(party=>{\r\n\t\t\t\t\t\treturn <Party key={party.id} party={party}/>\r\n\t\t\t\t\t})}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={classes.seatContainer}>\r\n\t\t\t\t\t<SeatMap seats={seats}/>\r\n\t\t\t\t</div>\r\n\t\t\t\t{data.config.election_day &&\r\n\t\t\t\t\t<LiveUpdates time={data.party.generated} />\r\n\t\t\t\t}\r\n\t\t    </div>}\r\n        </div>\r\n    )\r\n}\r\n","import React, { Suspense, useState } from \"react\";\nimport \"./App.css\";\n\nimport {\n\tHashRouter as Router, \n\tSwitch, \n\tRoute, \n\tLink,\n\tuseRouteMatch,\n\tuseParams\n  } from \"react-router-dom\";\n\nimport {\n  FormControl,\n  InputLabel, \n  Select, \n  MenuItem\n} from '@material-ui/core'\n\n//Components\n\nimport SeatApp from './components/SeatApp/App' \nimport GraphApp from './components/GraphApp/App'\nimport BarchartApp from './components/BarchartApp/App'\nimport FilteredResultsApp from \"./components/FilteredResultsApp/App\";\nimport LeadersApp from './components/LeadersApp/App';\n\nimport DataContextProvider from './dataContext'\n\nconst MapApp = React.lazy(()=>import('./components/MapApp/App'));\n\nconst InstantArticleApp = React.lazy(()=>import('./components/InstantArticle/InstantArticleApp'));\n\nconst App = () => {\n\n\treturn (\n\t\t<Router>\n\t\t<Switch>\n\t\t  <Route exact path=\"/\">\n\t\t\t  <Home />\n\t\t  </Route>\n\t\t  <Route path=\"/map/:prov/:year/:riding?\">\n        <Suspense fallback={<div>Loading..</div>}>\n\t\t\t    <DataContextProvider>\n  \t\t\t    <MapApp showBanner={true}/>\n\t\t\t    </DataContextProvider>\n        </Suspense>\n\t\t  </Route>\n\t\t  <Route path=\"/seat/:prov/:year?\">\n\t\t\t<DataContextProvider>\n\t\t\t  <SeatApp />\n\t\t\t</DataContextProvider>\n\t\t  </Route>\n\t\t  <Route path=\"/graph/:prov/:year?\">\n\t\t\t<DataContextProvider>\n\t\t\t  <GraphApp />\n\t\t\t</DataContextProvider>\n\t\t  </Route>\n\t\t  <Route path=\"/barchart/:prov/:year?\">\n\t\t\t<DataContextProvider>\n\t\t\t  <BarchartApp />\n\t\t\t</DataContextProvider>\n\t\t  </Route>\n\t\t  <Route path=\"/filteredResults/:prov/:year/:loadfilter?\">\n\t\t\t<DataContextProvider>\n\t\t\t  <FilteredResultsApp />\n\t\t\t</DataContextProvider>\n\t\t  </Route>\n\t\t  <Route path=\"/leaders/:prov/:year?\">\n\t\t\t<DataContextProvider>\n\t\t\t\t<LeadersApp />\n\t\t\t</DataContextProvider>\n\t\t  </Route>\n\t\t  <Route path=\"/instantarticle/:prov/:year?\">\n\t\t  <Suspense fallback={<div>Loading..</div>}>\n\t\t\t<DataContextProvider>\n\t\t\t  <InstantArticle />\n\t\t\t</DataContextProvider>\n\t\t\t</Suspense>\n\t\t  </Route>\n\t\t</Switch>\n\t  </Router>\n\t);\n}\n\nconst Home = () => {\n  const [prov, setProv] = useState({prov: 'nb', year: 2020});\n\n\treturn (\n\t\t<div>\n      <div className=\"electionSelect\">\n        <FormControl className=\"electionSelect\">\n          <InputLabel id=\"demo-simple-select-label\">Select Election</InputLabel>\n          <Select\n            labelId=\"demo-simple-select-label\"\n            id=\"demo-simple-select\"\n            value={prov}\n            onChange={(e)=>setProv(e.target.value)}\n          >\n            {window.CONFIG.elections.map((el)=>{\n              return <MenuItem value={el}>{el.prov} - {el.year}</MenuItem>\n            })}\n          </Select>\n        </FormControl>\n      </div>\n      <div>\n        <ul>\n          <li>\n            <Link to={`/`}>Home</Link>\n          </li>\n          <li>\n            <Link to={`/map/${prov.prov}/${prov.year}`}>Map App</Link>\n          </li>\n          <li>\n            <Link to={`/barchart/${prov.prov}/${prov.year}`}>Barchart App</Link>\n          </li>\n          <li>\n            <Link to={`/graph/${prov.prov}/${prov.year}`}>Graph App</Link>\n          </li>\n          <li>\n            <Link to={`/seat/${prov.prov}/${prov.year}`}>Seat App</Link>\n          </li>\n          <li>\n            <Link to={`/instantarticle/${prov.prov}/${prov.year}`}>Instant Article</Link>\n          </li>\n          <li>\n            <Link to={`/filteredResults/${prov.prov}/${prov.year}`}>Playlist Results</Link>\n          </li>\n\t\t  <li>\n\t\t\t  <Link to={`/leaders/${prov.prov}/${prov.year}`}>Party Leaders</Link>\n\t\t  </li>\n        </ul>\n        </div>\n    \t</div>\n\t)\n}\nconst InstantArticle = () => {\n\treturn (\n\t\t<div style={{display: \"flex\", flexDirection: 'column', height: '100%'}}>\n\t\t\t<div style={{width: '100%'}}>\n\t\t\t\t<InstantArticleApp />\n\t\t\t</div>\n\t\t\t<div style={{flexGrow: '1', width: '100%', position: 'relative', overflow: 'auto'}}>\n\t\t\t\t<MapApp showBanner={false}/>\n\t\t\t</div>\n\t\t\t\t{/* <InstantArticleApp />\n\t\t\t\t<MapApp /> */}\n\t\t</div>\n\t)\n}\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}