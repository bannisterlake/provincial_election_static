{"version":3,"sources":["dataContext.js","components/SeatApp/MajorityMeter.js","components/SeatApp/App.js","components/GraphApp/partyCard.js","components/GraphApp/GainsBar.js","components/GraphApp/GainsDiv.js","components/GraphApp/Declaration.js","components/GraphApp/App.js","components/BarchartApp/MajorityMeter.js","components/BarchartApp/App.js","App.js","reportWebVitals.js","index.js"],"names":["DataContext","createContext","initialData","full","party","declaration","config","counter","DataContextProvider","props","useState","data","setData","useParams","prov","year","useEffect","console","log","eYear","eProv","Promise","all","fetch","then","res","json","catch","e","alert","prevData","type","getStaticData","interval","timer","setInterval","cache","getDynamicData","clearInterval","Provider","value","children","useStyles","makeStyles","meter","width","position","marginTop","bar","background","color","votes","borderRadius","height","margin","majorityLine","bottom","borderLeft","small","majorityLabel","paddingRight","fontSize","fontWeight","transform","Bar","other","classes","className","MajorityMeter","maxSeats","setMaxSeats","majorityPosition","setMajorityPosition","leadingParty","partyResults","seats","majority","seatTotal","style","left","top","map","i","styles","seatApp","backgroundColor","padding","main","display","flexDirection","flex","titleRow","paddingBottom","justifyContent","title","majorityMeter","alignItems","textAlign","declarationText","paddingTop","seatContainer","overflow","flexGrow","seatMap","flexWrap","partyMap","overflowX","seat","flexShrink","partyContainer","letterSpacing","justifyItems","popVote","update","App","useContext","setSeats","parties","setParties","date","Date","total","j","oldArray","nameShort","id","length","partyName","votesPercent","votesTotal","k","Seat","el","DeclarationText","winner","leading","name","overallResult","resultText","Party","majorityPercent","toString","maxHeight","PartyCard","result","right","gainsBar","borderWidth","borderStyle","borderColor","transition","transitionDelay","GainsBar","barWidth","setWidth","Math","abs","gainsDiv","centerBar","zIndex","Gains","max","setMax","tempMax","forEach","seatChange","partyWidth","root","alignSelf","paddingLeft","Declaration","alignContent","topDiv","borderBottom","declarationDiv","tabDiv","visibility","borderBottomRightRadius","borderBottomLeftRadius","border","borderBottomColor","boxShadow","content","marginLeft","borderRight","marginRight","chartHolder","partyBars","chartDiv","setDeclarationText","window","innerWidth","hide","toggleHide","votesRef","text","CustomTooltip","active","payload","label","toLocaleString","ButtonGroup","Button","onClick","toFixed","ResponsiveContainer","PieChart","Pie","fill","paddingAngle","dataKey","entry","index","Cell","Tooltip","startAngle","endAngle","x","y","GainsDiv","maxWidth","minHeight","animationName","animationDuration","Barchart","screen","availWidth","barchartApp","barchart","generated","split","slice","join","MapApp","React","lazy","Home","setProv","FormControl","InputLabel","Select","labelId","onChange","target","CONFIG","elections","MenuItem","to","exact","path","fallback","showBanner","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6e4e73f5.chunk.js","sourcesContent":["import React, {useEffect, useReducer, createContext, useState} from 'react'\r\n\r\nimport {useLocation, useParams} from 'react-router-dom'\r\n\r\nexport const DataContext = createContext(null);\r\n\r\nconst initialData = {full: null,\r\n    party: null,\r\n    declaration: null,\r\n    config: null,\r\n    counter: 0}\r\n\r\nconst DataContextProvider = (props) => {\r\n    // const [data, dispatch] = useReducer(dataReducer, initialData)\r\n    const [data, setData] = useState(initialData)\r\n    const {prov, year} = useParams();\r\n    \r\n    const getStaticData = () => {\r\n        let eYear = year ? year : \"2020\"\r\n        let eProv = prov?prov : \"nb\"\r\n\r\n        Promise.all([\r\n            fetch(`data/${eProv}/data/${eYear}/${eProv}_ridingResults.json`)\r\n                .then(res=>{\r\n                    return res.json();\r\n                })\r\n                .then(json=>{\r\n                    return json\r\n                })\r\n                .catch(e=>{\r\n                    alert('error fetching riding results')\r\n                }),\r\n            fetch(`data/${eProv}/data/${eYear}/${eProv}_partyResults.json`)  //http://electorfederal.blcloud.net/api/party/result/overall/(all)/json\r\n                .then(res=>{\r\n                    return res.json();\r\n                })\r\n                .then(json=>{\r\n                    return json\r\n                })\r\n                .catch(e=>{\r\n                    alert('error fetching party results')\r\n                }),\r\n            fetch(`data/${eProv}/data/${eYear}/${eProv}_declaration.json`)  // //http://electorfederal.blcloud.net/api/OverallResult/?format=json\r\n                .then(res=>{\r\n                    return res.json();\r\n                })\r\n                .then(json=>{\r\n                    return json\r\n                })\r\n                .catch(e=>{\r\n                    alert('error fetching declaration results')\r\n                }),\r\n            fetch(`data/${eProv}/data/${eYear}/${eProv}_config.json`)  // //http://electorfederal.blcloud.net/api/OverallResult/?format=json\r\n                .then(res=>{\r\n                    return res.json();\r\n                })\r\n                .then(json=>{\r\n                    return json\r\n                })\r\n                .catch(e=>{\r\n                    alert('Please add election config')\r\n                }),\r\n            // fetch(`data/${eProv}/data/${eYear}/${eProv}_prevResults`)\r\n            \r\n            \r\n            ])\r\n            .then(res=>{\r\n                setData(prevData=>({\r\n                    ...prevData,\r\n                    type: 'SET_INITIAL', \r\n                    full: res[0], \r\n                    party: res[1],\r\n                    declaration: res[2],\r\n                    config: res[3] \r\n                }))\r\n            }).catch(e=>{\r\n                console.log('error', e)\r\n            })\r\n    }\r\n\r\n    const getDynamicData = () => {\r\n\r\n        let eYear = year ? year : \"2020\"\r\n        let eProv = prov?prov : \"nb\"\r\n\r\n        console.log('fetching data')\r\n        Promise.all([\r\n            fetch(`data/${eProv}/data/${eYear}/${eProv}_ridingResults.json`, {cache:\"no-cache\"})\r\n                .then(res=>{\r\n                    return res.json();\r\n                })\r\n                .then(json=>{\r\n                    return json\r\n                })\r\n                .catch(e=>{\r\n                    alert('error fetching riding results')\r\n                }),\r\n            fetch(`data/${eProv}/data/${eYear}/${eProv}_partyResults.json`, {cache:\"no-cache\"})  //http://electorfederal.blcloud.net/api/party/result/overall/(all)/json\r\n                .then(res=>{\r\n                    return res.json();\r\n                })\r\n                .then(json=>{\r\n                    return json\r\n                })\r\n                .catch(e=>{\r\n                    alert('error fetching party results')\r\n                }),\r\n            fetch(`data/${eProv}/data/${eYear}/${eProv}_declaration.json`, {cache:\"no-cache\"})  // //http://electorfederal.blcloud.net/api/OverallResult/?format=json\r\n                .then(res=>{\r\n                    return res.json();\r\n                })\r\n                .then(json=>{\r\n                    return json\r\n                })\r\n                .catch(e=>{\r\n                    alert('error fetching declaration results')\r\n                })\r\n            ])\r\n            .then(res=>{\r\n                setData(prevData=>({\r\n                    ...prevData,\r\n                    type: 'SET_INITIAL', \r\n                    full: res[0], \r\n                    party: res[1],\r\n                    declaration: res[2]\r\n                }))\r\n            }).catch(e=>{\r\n                console.log('error', e)\r\n            })\r\n    }\r\n\r\n    useEffect(()=> {\r\n        console.log('data context');\r\n        getStaticData()\r\n    }, [])\r\n\r\n    useEffect(()=> {\r\n        let interval;\r\n        if (data.config) {\r\n            console.log('updating every ' + (data.config.timer ? data.config.timer : 30000) + 'ms');\r\n            interval = setInterval(()=>{\r\n                getDynamicData();\r\n                \r\n            },(data.config.timer ? data.config.timer : 30000))\r\n        }\r\n        return () => {\r\n            clearInterval(interval)\r\n        }\r\n    }, [data.config])   \r\n\r\n    return (\r\n        <DataContext.Provider value={{data}}>\r\n            {props.children}\r\n        </DataContext.Provider>\r\n    )\r\n}\r\n\r\nexport default DataContextProvider","import React, {useState, useEffect} from 'react'\r\n\r\nimport {makeStyles} from '@material-ui/core/styles'\r\n\r\nconst useStyles = makeStyles({\r\n    meter: props =>({\r\n        width: '100%',\r\n        // marginLeft: 10,\r\n        position: 'relative',\r\n        marginTop: 14\r\n    }),\r\n    bar: {\r\n      background: (props) =>\r\n        props.color, \r\n      width: (props) => props.votes,\r\n      borderRadius: '0px 5px 5px 0px',\r\n      height: 5,\r\n      margin: 1,\r\n    },\r\n    majorityLine: {\r\n        position: 'absolute',\r\n        height: '120%',\r\n        bottom: -2,\r\n        borderLeft: (props)=> props.small ? '1px solid black' : '2px solid black',\r\n    },\r\n    majorityLabel: props=>({\r\n        position: 'absolute',\r\n        marginTop: props.small ? -14 : -18,\r\n        paddingRight: 5,\r\n        fontSize: 12,\r\n        fontWeight: 'bolder',\r\n        transform: 'translate(-7px, -1px)'\r\n    })\r\n\r\n\r\n  });\r\n  \r\n\r\nfunction Bar(props) {\r\n    const { color, votes, ...other } = props;\r\n    const classes = useStyles(props);\r\n    return <div className={classes.bar} {...other} />;\r\n}\r\n\r\nconst MajorityMeter = (props) => {\r\n    \r\n    // const { color, ...other } = props;\r\n\r\n    const [maxSeats, setMaxSeats] = useState(25)\r\n    const [difference, setDifference] = useState(0);\r\n    const [majorityPosition, setMajorityPosition] = useState(50);\r\n    const [leading, setLeading] = useState(0)\r\n    const classes = useStyles(props)\r\n    \r\n    useEffect(()=> {\r\n        if (props.data) {\r\n            let leadingParty = props.data.partyResults[0];\r\n            // console.log('leading', props.seatTotal)\r\n            if (leadingParty.seats >= props.majority) {\r\n                setMaxSeats(leadingParty.seats);\r\n                setMajorityPosition(props.majority/leadingParty.seats*100)\r\n            } else {\r\n                setMaxSeats(props.majority)\r\n                setMajorityPosition(props.majority/props.majority*100)\r\n            }\r\n        }\r\n    }, [props.data,props.seatTotal, props.majority])\r\n\r\n    return (\r\n        <div className={classes.meter}>\r\n            <div className={classes.majorityLabel} style={{left: `${majorityPosition}%`, top: 0}}>{props.majority}</div>\r\n\r\n            {/* <div className={classes.majorityLabel} style={{right: `${100-majorityPosition}%`}}>{props.majority} seats needed for majority</div> */}\r\n            {props.data && props.data.partyResults.map((party, i)=>{\r\n                if (i < 4) {\r\n                    return <Bar key={i} color={party.color} votes={party.seats > 0 ? `${(party.seats/maxSeats)*100}%` : '2%'} />\r\n                }\r\n            })    \r\n            }\r\n            {/* {console.log('majority',majority)} */}\r\n            <div className={classes.majorityLine} style={{left: `${majorityPosition}%`}}/>\r\n\r\n        </div>\r\n    );\r\n}\r\nexport default MajorityMeter;","import React, {useContext, useState, useEffect} from 'react'\r\n\r\nimport {makeStyles} from '@material-ui/core/styles';\r\n\r\nimport {DataContext} from '../../dataContext'\r\n\r\nimport MajorityMeter from './MajorityMeter'\r\n\r\nconst styles = makeStyles({\r\n\tseatApp: {\r\n\t\theight: 250,\r\n\t\tposition: \"relative\",\r\n\t\tbackgroundColor: '#ededf0',\r\n\t\tpadding: 10\r\n\t},\r\n\tmain: {\r\n\t\t// fontFamily: 'Roboto',\r\n\t\tdisplay: 'flex',\r\n\t\tposition: 'relative',\r\n\t\tflexDirection: 'column',\r\n\t\theight: '100%'\r\n\t},\r\n\tleft: {\r\n\t\tflex: 4\r\n\t},\r\n\ttitleRow: {\r\n\t\tdisplay: 'flex', \r\n\t\tflex: '1',\r\n\t\t// padding: '0px 5px',\r\n\t\tpaddingBottom: 5,\r\n\t\tjustifyContent: 'space-between'\r\n\t},\r\n\ttitle: props=> ({\r\n\t\tfontSize: props.small ? 18  : 24,\r\n\t\tfontWeight: 'bold',\r\n\t\tpaddingRight: 20\r\n\t}),\r\n\tmajorityMeter: props => ({\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center',\r\n\t\ttextAlign: 'right',\r\n\t\tfontSize: 12,\r\n\t\tflex: 1\r\n\t}),\r\n\tdeclarationText: {\r\n\t\tpaddingTop: 5,\r\n\t\t'& #party' : {\r\n\t\t\tfontWeight: 'bold'\r\n\t\t},\r\n\t\t'& #majority': {\r\n\t\t\tfontSize: 14\r\n\t\t}\r\n\t},\r\n\tseatContainer: {\r\n\t\tflex: '3',\r\n\t\tposition: 'relative',\r\n\t\toverflow: 'hidden',\r\n\t\tflexGrow: 3\r\n\t},\r\n\tseatMap: {\r\n\t\tdisplay: 'flex',\r\n\t\tflexDirection: 'column-reverse',\r\n\t\tflexWrap: 'wrap',\r\n\t\theight: '100%',\r\n\t\tposition: 'relative'\r\n\t},\r\n\tpartyMap: {\r\n\t\tdisplay: 'flex',\r\n\t\tflex: '2',\r\n\t\tjustifyContent: 'flex-start',\r\n\t\tpadding: '5px 0px',\r\n\t\toverflowX: 'auto'\r\n\t},\r\n\tseat: {\r\n\t\theight: '15%',\r\n        margin: '0.1%',\r\n        flexShrink: 1,\r\n\t\tpaddingBottom: 5\r\n\t},\r\n\tpartyContainer: {\r\n\t\tflex: 1,\r\n        width: '20%',\r\n\t\tpaddingTop: 5,\r\n\t\tdisplay: 'flex',\r\n        alignItems: 'center',\r\n        fontWeight: 'bold',\r\n        fontSize: 14,\r\n        letterSpacing: 2,\r\n        padding: '5px 5px',\r\n        margin: 1,\r\n        borderRadius: 5,\r\n        color: 'white',\r\n        justifyItems: 'center',\r\n\t\tjustifyContent: 'space-between',\r\n\t\t'& #partySeatsTotal': {\r\n\t\t\tfontSize: 18\r\n\t\t}\r\n    },\r\n    popVote:{\r\n        padding: '5px 0px',\r\n        fontWeight: 'bold',\r\n        fontSize: 20\r\n\t},\r\n\tupdate: {\r\n\t\t// flex:1,\r\n\t\tfontSize: 10\r\n\t}\r\n})\r\n\r\n\r\nexport default function App() {\r\n    const {data} = useContext(DataContext)\r\n\tconst [seats, setSeats] = useState([])\r\n\tconst [parties, setParties] = useState([])\r\n\r\n    const classes = styles()\r\n\r\n\tconst date = new Date()\r\n\r\n    useEffect(()=> {\r\n        if (data.party) {\r\n\t\t\tlet total = 0\r\n\t\t\tsetSeats([])\r\n\t\t\tsetParties([])\r\n            data.party.partyResults.map((party, i)=>{\r\n\t\t\t\tfor (let j=0; j<party.seats; j++) {\r\n\t\t\t\t\ttotal++\r\n                    setSeats( oldArray=> [ ...oldArray, { party: party.nameShort,  id: j, color: party.color }])\r\n\t\t\t\t}\r\n\t\t\t\tif (i <=data.party.partyResults.length-1 && i >4) {\r\n\t\t\t\t\tif (!party.seats) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tsetParties(oldArray=>[...oldArray, {partyName: party.nameShort,id:i, seats: party.seats, color: party.color,votesPercent: party.votesPercent,votesTotal: party.votes}])\r\n\t\t\t\t\r\n\t\t\t})\r\n\t\t\tif (total < data.config.seats) {\r\n\t\t\t\tfor (let k=0; k<data.config.seats-total; k++) {\r\n\t\t\t\t\tsetSeats( oldArray=> [ ...oldArray, { party: 'none',  id: k, color: '#e0e0e0' }])\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}, [data])\r\n\r\n\tconst Seat = (props) => {\r\n\t\tconsole.log('seat')\r\n\t\treturn (\r\n\t\t\t<div key={`${props.party}-${props.el}`} className={classes.seat} style={{backgroundColor: props.color}} />\r\n\t\t);\r\n\t}\r\n\r\n    const DeclarationText = () => {\r\n\t\tlet winner;\r\n\t\tlet leading = false;\r\n\t\tlet declaration;\r\n        if (data.party.partyResults[0].seats > data.party.partyResults[1].seats) {\r\n\t\t\twinner = data.party.partyResults[0].name\r\n\t\t\tleading = true\r\n        } else {\r\n\r\n\t\t}\r\n\r\n\t\tif (data.declaration.overallResult.resultText) {\r\n\t\t\tdeclaration = 'elected ' + data.declaration.overallResult.resultText\r\n\t\t}\r\n\r\n\t\treturn (\r\n            <div id=\"declarationText\" className={classes.declarationText}>\r\n                {leading && <>\r\n\t\t\t\t\t<span id=\"party\">{winner}s</span>\r\n\t\t\t\t\t<span id=\"helpertext\"> leading </span> \r\n\t\t\t\t\t{declaration &&\r\n\t\t\t\t\t\t<span>and elected</span>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t<span> - </span>\r\n\t\t\t\t</>\r\n\t\t\t\t}\r\n\t\t\t\t<span id=\"majority\">{data.config.majority} seats needed for majority</span>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const Party = (props) => {\r\n\t\tconst {party} = props\r\n\t\treturn (\r\n\t\t\t<div key={party.id} id=\"partyCard\" className={classes.partyContainer} style={{backgroundColor: party.color}}>\r\n\t\t\t\t<div>{party.partyName}</div>\r\n\t\t\t\t<div id=\"popVote\" className={classes.popVote}> {party.seats} </div>\r\n\t\t\t</div>\r\n\t\t\t// <div key={party.id} className={classes.partyContainer} style={{backgroundColor: party.color}}>\r\n\t\t\t// \t<div className={classes.party}>\r\n\t\t\t// \t\t<div>{party.partyName}</div>\r\n\t\t\t// \t\t<div className={classes.popVote}>\r\n\t\t\t// \t\t{true ?` ${party.votesPercent}%` : `Pop vote: ${party.votesPercent}%` }\r\n\t\t\t// \t\t</div>\r\n\t\t\t// \t</div>\r\n\t\t\t// \t<div id=\"partySeatsTotal\">{party.seats}</div>\r\n\t\t\t// </div>\r\n\t\t);\r\n\t}\r\n\r\n    return (\r\n        <div className={classes.seatApp}>\r\n\t\t\t{(data.party && seats && parties) && \r\n\t\t\t<div className={classes.main}>\r\n\t\t\t\t<div className={classes.titleRow} id=\"widgetTitleRow\">\r\n\t\t\t\t\t<div className={classes.left}>\r\n\t\t\t\t\t\t<div id=\"widgetTitle\" className={classes.title}>{data.config.title}</div>\r\n\t\t\t\t\t\t<DeclarationText />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{<div className={classes.majorityMeter}>\r\n\t\t\t\t\t\t<MajorityMeter seatTotal={data.config.total} majority={data.config.majority} majorityPercent={(data.config.majority/data.config.total)*100} data={data.party}/>\r\n\t\t\t\t\t</div>}\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div className={classes.seatContainer}>\r\n\t\t\t\t\t<div className={classes.seatMap}>\r\n\t\t\t\t\t\t{console.log(seats)}\r\n\t\t\t\t\t\t{seats.map((seat, i)=>{\r\n\t\t\t\t\t\t\t\treturn <Seat key={seat.party+'-'+i} party={seat.party} el={seat.id} color={seat.color}/>\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={classes.partyMap}>\r\n\t\t\t\t\t{parties.map(party=>{\r\n\t\t\t\t\t\treturn <Party key={party.id} party={party}/>\r\n\t\t\t\t\t})}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={classes.update}>Last updated: {date && date.toString()}</div>\r\n\t\t    </div>}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport {makeStyles} from '@material-ui/core/styles'\r\n\r\nconst styles = makeStyles({\r\n    partyContainer: props => ({\r\n        backgroundColor: props.party.color,\r\n        padding: 5,\r\n        maxHeight: 40,\r\n        margin: 3,\r\n        borderRadius: 5,\r\n        color: 'white',\r\n        fontWeight: 'bold',\r\n        letterSpacing: 1,\r\n        display: 'flex',\r\n        justifyContent: 'space-between'\r\n    })\r\n})\r\n\r\nconst PartyCard = (props) => {\r\n\r\n    const classes = styles(props)\r\n\r\n    return (\r\n        <div className={classes.partyContainer}>\r\n            <div>{props.party.nameShort}</div>\r\n            <div>{props.result > 0 && '+'}{props.result}</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PartyCard","import React, {useState, useEffect} from 'react'\r\nimport {makeStyles} from '@material-ui/core/styles'\r\nimport {CSSTransition, Transition} from 'react-transition-group'\r\n\r\nconst styles = makeStyles({\r\n    partyContainer: ({\r\n        alignItems: 'center',\r\n        height: 25,\r\n        margin: 3,\r\n        position: 'relative',\r\n        width: '80%',\r\n        color: 'black',\r\n        fontWeight: 'bold',\r\n        letterSpacing: 1,\r\n        display: 'flex',\r\n        position: 'relative',\r\n        justifyContent: 'space-between',\r\n        borderBottom: '1px solid black',\r\n        '& #minus': {\r\n            position: 'absolute',\r\n            left: props=>props.small ? -10:-15, \r\n            fontWeight: 'bolder'\r\n\r\n        },\r\n        '& #plus': {\r\n            position: 'absolute',\r\n            right: props=>props.small? -10 :  -15,\r\n            fontWeight: 'bolder'\r\n\r\n        }\r\n    }),\r\n    gainsBar: {\r\n        backgroundColor: props=> props.color,\r\n        position: \"absolute\",\r\n        bottom: 0,\r\n        right: props=> props.width <= 0 && '50%',\r\n        left: props=> props.width > 0 && '50%',\r\n        height: '60%',\r\n        borderWidth: '1px',\r\n        borderStyle: 'solid',\r\n        borderColor: props=>props.color,\r\n        margin: 0,\r\n        padding: 0, \r\n        transition: `width 300ms ease-in-out`,\r\n        transitionDelay: '100ms'\r\n    }\r\n})\r\n\r\nconst GainsBar = (props) => {\r\n    const classes = styles(props) \r\n    const [barWidth, setWidth] = useState(0)  \r\n\r\n    useEffect(() => {\r\n        setWidth(props.width)\r\n    }, [props])\r\n\r\n    return (\r\n        <div className={classes.partyContainer}>\r\n            <div id=\"minus\">-</div>\r\n                <div style={{width: `${Math.abs(barWidth)}%`}} className={classes.gainsBar}></div>\r\n            <div id=\"plus\">+</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default GainsBar","import React, {useState, useEffect} from 'react'\r\nimport {makeStyles} from '@material-ui/core/styles'\r\n\r\n\r\nimport Gainsbar from './GainsBar'\r\n\r\nconst styles = makeStyles({\r\n\tgainsDiv: {\r\n        flex: (props)=> props.small ? 4 : 5,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        position: 'relative',\r\n        justifyContent: 'center',\r\n        // boxSizing: 'border-box'\r\n    },\r\n    centerBar: {\r\n        position: 'absolute',\r\n        borderLeft: '1px solid black',\r\n        left: '50%',\r\n        height: '97%',\r\n        zIndex: 20\r\n        \r\n    }\r\n})\r\n\r\nconst Gains = (props) => {\r\n    \r\n    const [max, setMax] = useState(0);\r\n\r\n    const classes = styles(props)\r\n\r\n\r\n    useEffect(()=>{\r\n        let tempMax = 0\r\n        if (props.data) {\r\n            props.data.partyResults.forEach(party=> {\r\n                if (Math.abs(party.seatChange) > tempMax) {\r\n                    tempMax = Math.abs(party.seatChange)\r\n                }\r\n            })\r\n            setMax(tempMax)\r\n\r\n        }\r\n\r\n    },[props.data])\r\n\r\n    return (\r\n        <div className={classes.gainsDiv}>\r\n            <div className={classes.centerBar}></div>\r\n            {props.data && props.data.partyResults.map((party,i)=>{\r\n                let partyWidth = 0\r\n                if (max !== 0) {\r\n                    partyWidth = (party.seatChange)/(max + 1) * 100;\r\n                }\r\n                if (props.data.partyResults.length > 6) {\r\n                    if (i < 5) {\r\n                    return <Gainsbar key={i} color={party.color} small={props.small} width={`${partyWidth/2}`}/>\r\n                } else if (i === props.data.partyResults.length -1) {\r\n                    return <Gainsbar key={i} color={party.color} small={props.small} width={`${partyWidth/2}`}/>\r\n                }} \r\n                else {\r\n                    return <Gainsbar key={i} color={party.color} small={props.small} width={`${partyWidth/2}`}/>\r\n                }\r\n                \r\n            })}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Gains","import React, {useEffect, useState} from 'react';\r\nimport {makeStyles} from '@material-ui/core/styles'\r\n\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\n\r\nconst useStyles=makeStyles({\r\n    root: {\r\n        display: 'flex', \r\n        alignItems: 'center',\r\n        paddingBottom: 5,\r\n        fontWeight: \"bolder\", \r\n        alignSelf: 'flex-start',\r\n        fontSize: 14,\r\n        paddingLeft: 5,\r\n        '& svg': {\r\n            color: 'green',\r\n            fontSize: 20, \r\n            paddingRight: 5\r\n        }\r\n\r\n    }\r\n})\r\n\r\nconst Declaration = (props) => {\r\n    const classes = useStyles()\r\n    \r\n\r\n    return (\r\n        <div className={props.declarationText && classes.root}>\r\n            <CheckCircleIcon color=\"green\" />\r\n            {props.declarationText}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Declaration","import React, { useContext, useState, useEffect } from 'react'\r\n\r\nimport {makeStyles} from '@material-ui/core/styles'\r\nimport { PieChart, Pie, Tooltip, Sector, Cell, ResponsiveContainer } from 'recharts'\r\nimport {Animated} from 'react-animated-css'\r\n\r\nimport {DataContext} from '../../dataContext'\r\n\r\nimport PartyCard from './partyCard'\r\nimport GainsDiv from './GainsDiv'\r\nimport Declaration from './Declaration'\r\nimport { Button, ButtonGroup } from '@material-ui/core'\r\n\r\nconst styles = makeStyles({\r\n\tmain: {\r\n\t\tfontSize: (props) => props.small && 12,\r\n\t\t// fontFamily: 'Roboto',\r\n\t\tdisplay: 'flex',\r\n\t\tposition: 'relative',\r\n\t\tflexDirection: 'column',\r\n\t\tpadding: 5,\r\n\t\tbackgroundColor: '#ededf0',\r\n\t\talignContent: 'center',\r\n\t\theight: 260\r\n\t}, \r\n\ttopDiv: {\r\n\t\tdisplay: 'flex', \r\n\t\tjustifyContent: 'space-between',\r\n\t\tborderBottom: '1px solid grey',\r\n\t},\r\n\tdeclarationDiv: {\r\n\t\tflex: 2,\r\n\t\talignSelf: 'center',\r\n\t},\r\n\ttabDiv: {\r\n\t\tdisplay: 'flex', \r\n\t\tflex: 2,\r\n\t\tvisibility: 'hidden',\r\n\t\t'& #tab': {\r\n\t\t\tbackground: '#9e9e9e',\r\n\t\t\tcolor: 'white',\r\n\t\t\tflex: 1,\r\n\t\t\tfontSize: 9,\r\n\t\t\tborderBottomRightRadius: 0, \r\n\t\t\tborderBottomLeftRadius: 0,\r\n\t\t\tpadding: 5, \r\n\t\t\tborder: '1px solid black',\r\n\t\t\tborderBottomColor: 'transparent'\r\n\t\t},\r\n\t\t'& #active': {\r\n\t\t\tbackground: '#ededf0',\r\n\t\t\tcolor: 'black',\r\n\t\t\tflex: 1,\r\n\t\t\tfontSize: 9,\r\n\t\t\tborderBottomRightRadius: 0, \r\n\t\t\tborderBottomLeftRadius: 0,\r\n\t\t\tboxShadow: '0px 2px 0px -1px #ededf0',\r\n\t\t\tpadding: 5, \r\n\t\t\tborder: '1px solid black',\r\n\t\t\tborderBottomColor: '#ededf0'\r\n\t\t}\r\n\t},\r\n\tcontent: {\r\n\t\tdisplay: 'flex', \r\n\t\tflexDirection: 'row', \r\n\t\t// flexDirection: props=>props.small ? 'column' : 'row',\r\n\t\tpadding: '5px 0px',\r\n\t\tflexGrow: 1\r\n\t},\r\n\tleft: {\r\n\t\tflex: 3,\r\n\t\t// maxHeight: 200,\r\n\t\talignItems: 'center',\r\n\t\t\r\n\t},\r\n\tright: {\r\n\t\tflex: 3,\r\n\t\tmaxHeight: '100%'\r\n\r\n\t},\r\n\ttitle: {\r\n\t\tfontWeight: 'bold',\r\n\t\tmarginLeft: 5,\r\n\t\tfontSize: props=> props.small ? 16 : 18\r\n\t}, \r\n\tborder: {\r\n\t\tborderRight: '1px solid grey',\r\n\t\tmarginRight: 10\r\n\t},\r\n\tchartHolder: {\r\n\t\tdisplay: 'flex',\r\n\t\tflexDirection: 'row',\r\n\t\theight: '100%',\r\n\t\talignItems: 'center',\r\n\t\tposition: 'relative'\r\n\t},\r\n\tpartyBars: {\r\n\t\tflex: 2,\r\n\t\talignSelf: 'center',\r\n\t},\r\n\tchartDiv: {\r\n\t\tpadding: '0 10px', \r\n\t\tflex: 2,\r\n\t\theight: '100%',\r\n\t\twidth: '100%'\r\n\t},\r\n\tupdate: {\r\n\t\tpaddingTop: 5,\r\n\t\tfontSize: 12\r\n\t}\r\n\r\n})\r\n\r\n\r\n\r\nexport default function App() {\r\n\r\n\tconst [declarationText, setDeclarationText] = useState('')\r\n\tconst [hide, toggleHide] = useState(window.innerWidth > 600 ? '' : 'gains')\r\n\tconst classes = styles()\r\n\r\n\tlet votesRef = 0;\r\n\r\n    const {data} = useContext(DataContext)\r\n\r\n\r\n    useEffect(()=>{\r\n\r\n        try {\r\n            if (data.party) {\r\n                if (data.declaration.overallResult.partyName && data.declaration.overallResult.resultText) {\r\n\t\t\t\t\tlet text = data.declaration.overallResult.partyName + ' ' + data.declaration.overallResult.resultText;\r\n\t\t\t\t\tif (text===declarationText) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetDeclarationText(text)\r\n\t\t\t\t\t}\r\n                } else \r\n                setDeclarationText('')\r\n            }\r\n        } catch (e) {\r\n            \r\n        }\r\n    \r\n      },[data])\r\n\r\n    const CustomTooltip = ({active, payload, label}) => {\r\n\t\tif (active && payload && payload.length) {\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"tooltip-wrapper\">\r\n\t\t\t\t\t<strong className=\"tooltip-name\">{payload[0].name}</strong>\r\n\t\t\t\t\t<span>{payload[0].value.toLocaleString('en')} votes</span>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\treturn null\r\n\t }\r\n\r\n\r\n    return (\r\n        <div id=\"graphWidget-main\" className={classes.main}>\r\n          <div className={classes.topDiv}>\r\n            <div className={classes.declarationDiv}>\r\n                {declarationText && \r\n                    <Declaration declarationText={declarationText} />\r\n                }\t\r\n            </div>\t\r\n                <ButtonGroup className={classes.tabDiv} id=\"tabDiv\">\r\n                    <Button onClick={()=>toggleHide('gains')} id={hide === 'gains' ? \"active\" : \"tab\"}>Pop. Vote</Button>\r\n                    <Button onClick={()=>toggleHide('chart')} id={hide === 'chart' ? \"active\" : \"tab\"}>Gains/Losses</Button>\r\n                </ButtonGroup>\r\n            </div>\r\n            <div className={classes.content}>\r\n                \r\n                \r\n                <div className={classes.left} style={{display: hide === 'chart' ? 'none': 'initial'}}>\r\n                    <div className={classes.title}>Popular vote</div>\r\n                    <div className={classes.chartHolder} >\r\n                        <div className={classes.partyBars}>\r\n                            {data.party &&\r\n                                data.party.partyResults.map((party,i)=>{\r\n                                if (data.party.partyResults.length > 6) {\r\n                                    if (i < 5) {\r\n                                    votesRef += party.votesPercent\r\n                                    return <PartyCard key={i} party={party} result={`${party.votesPercent}%`} />\r\n                                }\r\n                                else if (i === data.party.partyResults.length -1) {\r\n                                    return <PartyCard key={i} party={{nameShort: 'OTH', color: '#c0c0c0'}} result={`${votesRef ? (100-votesRef).toFixed(1):0}%`} /> \r\n                                }\r\n                                } else\t\t\t\t\r\n                                return <PartyCard key={i} party={party} result={`${party.votesPercent}%`} />\r\n                            })\r\n                            \r\n                            }\r\n                        </div>\r\n                            <div className={classes.chartDiv} >\r\n                                {data.party &&\r\n                                <ResponsiveContainer height={200} width={'100%'} >\r\n                                     {data.party.partyResults[0].votes ?\r\n    \r\n                                    <PieChart  >\r\n                                        <Pie\r\n                                            data={data.party.partyResults}\r\n                                            fill=\"#8884d8\"\r\n                                            // label={(entry)=>{return entry.name}} \r\n                                            paddingAngle={2}\r\n                                            dataKey=\"votes\"\r\n                                            \r\n                                        >\r\n                                        {data.party.partyResults.map((entry, index) => {\r\n                                                return <Cell key={`cell-${index}`} fill={entry.color} />\r\n    \r\n                                            }\r\n                                        )}\r\n                                        </Pie>\r\n                                        <Tooltip content={<CustomTooltip />} />\r\n                                    </PieChart>\r\n                                :\r\n                                <PieChart>\r\n                                    <Pie\r\n                                        data={[{name: 'No Results', value: 100}]}\r\n                                        startAngle={90}\r\n                                        endAngle={450}\r\n                                    >\r\n                                        <Cell fill=\"grey\" />\r\n                                    </Pie>\r\n                                    <Tooltip position={{x:0, y:-10}} content={<div className=\"tooltip-wrapper\">\r\n                                                        <strong>No Results</strong>\r\n                                                    </div>}/>\r\n    \r\n                                </PieChart>\t\r\n                                }\r\n                                </ResponsiveContainer>\r\n                                }\r\n                            </div>\t\r\n                    </div>\r\n                </div>\r\n                {!hide && <div className={classes.border} id=\"chartBorder\"/>}\r\n                <div className={classes.right} id=\"gainslosses\" style={{display: hide === 'gains' ? 'none': 'initial'}}>\r\n                    <div className={classes.title}>Gains/Losses</div>\r\n                    <div className={classes.chartHolder}>\r\n                        <div className={classes.partyBars}>\r\n                            {data.party && data.party.partyResults.map((party,i)=>{\r\n                                if (data.party.partyResults.length > 6) {\r\n                                    if (i < 5) {\r\n                                        return <PartyCard key={i} party={party} result={`${party.seatChange}`} />\r\n                                    }\r\n                                    else if (i === data.party.partyResults.length -1) {\r\n                                        return <PartyCard key={i} party={{nameShort: 'OTH', color: '#c0c0c0'}} result={`${party.seatChange}`} /> \r\n                                    }\t\r\n                                } else {\r\n                                    return <PartyCard key={i} party={party} result={`${party.seatChange}`} />\r\n                                }\r\n                            })}\r\n                        </div>\r\n                        {/* <GainsChart data={data.party} /> */}\r\n                        <GainsDiv data={data.party}/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            {/* <div>\r\n                <div className={classes.update}>Last updated: { Date(data.generated) }</div>\r\n            </div> */}\r\n        </div>\r\n        )\r\n}\r\n","import React, {useState, useContext, useEffect} from 'react'\r\n\r\nimport {makeStyles} from '@material-ui/core/styles'\r\n\r\nimport {DataContext} from '../../dataContext'\r\n\r\nconst useStyles = makeStyles({\r\n    meter: {\r\n        maxWidth: '95%',\r\n        position: 'relative',\r\n        minHeight: '20px',\r\n\r\n    },\r\n    bar: {\r\n      background: (props) =>\r\n        props.color, \r\n      width: '0%',\r\n      borderRadius: '0px 5px 5px 0px',\r\n      height: 10,\r\n      margin: 2,\r\n      animationName: 'animate-bar',\r\n      animationDuration: '0.5s',\r\n      transition: `width 300ms ease-in-out`,\r\n      transitionDelay: '100ms',\r\n      zIndex: 20\r\n\r\n    },\r\n    majorityLine: {\r\n        position: 'absolute',\r\n        height: '120%',\r\n        minHeight: '20px',\r\n        bottom: -2,\r\n        borderLeft: '2px solid black',\r\n        transition: `left 300ms ease-in-out`,\r\n    },\r\n    majorityLabel: {\r\n        position: 'absolute',\r\n        textAlign: 'left',\r\n        top: -25,\r\n        marginLeft: -7,\r\n        fontWeight: 'bolder',\r\n        transition: `right 300ms ease-in-out`,\r\n    }\r\n  });\r\n  \r\n\r\nfunction Bar(props) {\r\n    const { color, votes, ...other } = props;\r\n    const classes = useStyles(props);\r\n    return <div className={`animate-bar ${classes.bar}`} style={{width: votes}} {...other} />;\r\n}\r\n\r\nconst Barchart = (props) => {\r\n    const {data} = useContext(DataContext)\r\n    const [maxSeats, setMaxSeats] = useState(null)\r\n    const [majorityPosition, setMajorityPosition] = useState(50);\r\n    const classes = useStyles(props)\r\n    \r\n    useEffect(()=> {\r\n        console.log('barchart', data)\r\n        if (data) {\r\n            let leadingParty = props.data.partyResults[0];\r\n            if (leadingParty.seats >= props.majority) {\r\n                setMaxSeats(leadingParty.seats);\r\n                setMajorityPosition(props.majority/leadingParty.seats*100)\r\n            } else {\r\n                setMaxSeats(props.majority)\r\n                setMajorityPosition(props.majority/props.majority*100)\r\n            }\r\n        }\r\n    }, [props.data,props.seatTotal, props.majority])\r\n\r\n    return (\r\n        <div className={classes.meter}>\r\n            <div className={classes.majorityLabel} style={{right: `${100-majorityPosition}%`}}>{props.majority} {window.screen.availWidth > 250 && 'seats needed for majority'}</div>\r\n            {data && maxSeats && props.data.partyResults.map((party, i)=>{\r\n                if (party.seats) {\r\n                    return <Bar key={i} color={party.color} votes={party.seats > 0 ? `${(party.seats/maxSeats)*100}%` : '0.5%'} />\r\n                }\r\n            })    \r\n            }\r\n            <div className={classes.majorityLine} style={{left: `${majorityPosition}%`}}/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Barchart;","import React, {useState, useEffect, useContext} from 'react'\r\nimport {makeStyles} from '@material-ui/core'\r\n\r\nimport {DataContext} from '../../dataContext'\r\nimport MajorityMeter from './MajorityMeter';\r\n\r\nconst styles = makeStyles({\r\n\tbarchartApp: {\r\n\t\theight: 250,\r\n\t\tposition: \"relative\",\r\n\t},\r\n\tmain: {\r\n\t\t// fontFamily: 'Roboto',\r\n\t\theight: '100%',\r\n\t\tdisplay: 'flex',\r\n\t\tposition: 'relative',\r\n\t\tflexDirection: 'column',\r\n\t\tpadding: '10px 10px',\r\n\t\tbackgroundColor: '#ededf0'\r\n\t},\r\n\ttitleRow: {\r\n\t\tflex:2,\r\n\t\tdisplay: 'flex', \r\n\t\tpadding: '0px 5px 5px 5px',\r\n\t\tjustifyContent: 'space-between'\r\n\t},\r\n\ttitle: {\r\n\t\tfontSize: 24,\r\n\t\t// paddingBottom: 10, \r\n\t\tfontWeight: 'bold'\r\n\t},\r\n\tdeclarationText: {\r\n\t\tpaddingTop: 5,\r\n\t\t'& #party' : {\r\n\t\t\tfontWeight: 'bold'\r\n\t\t},\r\n\t\t'& #majority': {\r\n\t\t\tfontSize: 14\r\n\t\t}\r\n\t},\r\n\tbarchart: {\r\n\t\tfontSize: 14,\r\n\t\tdisplay: 'flex',\r\n\t\tpadding: '15px 0px 10px 0px',\r\n\t\tflexDirection: 'column-reverse',\r\n\t\tflexWrap: 'wrap',\r\n\t\tflex:3, \r\n\t},\r\n\tpartyMap: {\r\n\t\tfontSize: 16,\r\n\t\tdisplay: 'flex',\r\n\t\tflex: 2,\r\n\t\talignContent: 'left',\r\n\t\toverflowX: 'auto',\r\n\t\tmaxHeight: 52\r\n\t},\r\n\tupdate: {\r\n\t\tfontSize: 10,\r\n\t\tpadding: '5px 0px 0px 5px'\r\n\r\n    },\r\n    partyContainer: {\r\n        width: '20%',\r\n\t\tpaddingTop: 5,\r\n\t\tdisplay: 'flex',\r\n        alignItems: 'center',\r\n        fontWeight: 'bold',\r\n\t\tfontSize: 14,\r\n        letterSpacing: 2,\r\n        padding: '5px 5px',\r\n        margin: 1,\r\n        borderRadius: 5,\r\n        color: 'white',\r\n        justifyItems: 'center',\r\n\t\tjustifyContent: 'space-between',\r\n    },\r\n    popVote:{\r\n        // paddingTop: 5,\r\n        fontWeight: 'bold',\r\n        fontSize: 14\r\n    }\r\n})\r\n\r\n\r\nexport default function App() {\r\n    const {data} = useContext(DataContext)\r\n    const classes = styles()\r\n\tconst [parties, setParties] = useState([])\r\n    \r\n    useEffect(()=> {\r\n        if (data.party) {\r\n\t\t\tlet total = 0\r\n\t\t\tsetParties([])\r\n            data.party.partyResults.map((party, i)=>{\r\n\t\t\t\tsetParties(oldArray=>[...oldArray, {partyName: party.nameShort,id:i, seats: party.seats, color: party.color,votesPercent: party.votesPercent,votesTotal: party.votes}])\r\n\t\t\t\t\r\n\t\t\t})\r\n\t\t}\r\n\t\t// if (data.declaration) {\r\n\t\t// \tif (data.declaration.overallResult.resultText) {\r\n\t\t// \t\tlet text = data.declaration.overallResult.partyName + ' ' + data.declaration.overallResult.resultText;\r\n\t\t// \t\tsetDeclaration(text)\t\r\n\t\t// \t}\r\n\t\t// }\r\n    }, [data])\r\n\r\n    const getDate = (update) => {\r\n\t\tconst date = new Date(update)\r\n\t\treturn date.toString().split(' ').slice(1, 5).join(' ')\r\n\r\n\t}\r\n\r\n    const Party = (props) => {\r\n\t\tconst {party} = props\r\n\t\treturn (\r\n\t\t\t<div key={party.id} id=\"partyCard\" className={classes.partyContainer} style={{backgroundColor: party.color}}>\r\n\t\t\t\t<div>{party.partyName}</div>\r\n\t\t\t\t<div id=\"popVote\" className={classes.popVote}> {party.seats} </div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n    const DeclarationText = () => {\r\n\t\tlet winner;\r\n\t\tlet leading = false;\r\n\t\tlet declaration;\r\n        if (data.party.partyResults[0].seats > data.party.partyResults[1].seats) {\r\n\t\t\twinner = data.party.partyResults[0].name\r\n\t\t\tleading = true\r\n        } else {\r\n\r\n\t\t}\r\n\r\n\t\tif (data.declaration.overallResult.resultText) {\r\n\t\t\tdeclaration = 'elected ' + data.declaration.overallResult.resultText\r\n\t\t}\r\n\r\n\t\treturn (\r\n            <div id=\"declarationText\" className={classes.declarationText}>\r\n                {leading && <>\r\n\t\t\t\t\t<span id=\"party\">{winner}s</span>\r\n\t\t\t\t\t<span id=\"helpertext\"> leading </span> \r\n\t\t\t\t\t{declaration &&\r\n\t\t\t\t\t\t<span>and elected</span>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t<span> - </span>\r\n\t\t\t\t</>\r\n\t\t\t\t}\r\n\t\t\t\t<span id=\"majority\">{data.config.majority} seats needed for majority</span>\r\n            </div>\r\n        )\r\n\t}\r\n    return (\r\n        <div className={classes.barchartApp}>\r\n            {data.party && \r\n             <div className={classes.main}>\r\n                <div className={classes.titleRow}>\r\n\t\t\t\t\t<div className={classes.left}>\r\n\t\t\t\t\t\t<div id=\"widgetTitle\" className={classes.title}>{data.config.title}</div>\r\n\t\t\t\t\t\t<DeclarationText />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n                <div className={classes.barchart}>\r\n                    <MajorityMeter seatTotal={data.config.seats} majority={data.config.majority} majorityPercent={(data.config.majority/data.config.seats)*100} data={data.party}/>\r\n                </div>\r\n                \r\n                <div className={classes.partyMap}>\r\n                    {parties.map(party=>{\r\n\t\t\t\t\t\treturn <Party key={party.id} party={party}/>\r\n\t\t\t\t\t})}\r\n                </div>\r\n                <div className={classes.update}>Last updated: {getDate(data.party.generated)}</div>\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n","import React, { Suspense, useState } from \"react\";\nimport \"./App.css\";\n\nimport {\n\tHashRouter as Router, \n\tSwitch, \n\tRoute, \n\tLink,\n\tuseRouteMatch,\n\tuseParams\n  } from \"react-router-dom\";\n\nimport {\n  FormControl,\n  InputLabel, \n  Select, \n  MenuItem\n} from '@material-ui/core'\n\n//Components\n\nimport SeatApp from './components/SeatApp/App' \nimport GraphApp from './components/GraphApp/App'\nimport BarchartApp from './components/BarchartApp/App'\nimport InstantArticle from './components/InstantArticle/App'\nimport FilteredResultsApp from \"./components/FilteredResultsApp/App\";\n\nimport DataContextProvider from './dataContext'\n\nconst MapApp = React.lazy(()=>import('./components/MapApp/App'));\n\nconst App = () => {\n\n\treturn (\n\t\t<Router>\n\t\t<Switch>\n\t\t  <Route exact path=\"/\">\n\t\t\t  <Home />\n\t\t  </Route>\n\t\t  <Route path=\"/map/:prov/:year/:riding?\">\n        <Suspense fallback={<div>Loading..</div>}>\n\t\t\t    <DataContextProvider>\n  \t\t\t    <MapApp showBanner={true}/>\n\t\t\t    </DataContextProvider>\n        </Suspense>\n\t\t  </Route>\n\t\t  <Route path=\"/seat/:prov/:year?\">\n\t\t\t<DataContextProvider>\n\t\t\t  <SeatApp />\n\t\t\t</DataContextProvider>\n\t\t  </Route>\n\t\t  <Route path=\"/graph/:prov/:year?\">\n\t\t\t<DataContextProvider>\n\t\t\t  <GraphApp />\n\t\t\t</DataContextProvider>\n\t\t  </Route>\n\t\t  <Route path=\"/barchart/:prov/:year?\">\n\t\t\t<DataContextProvider>\n\t\t\t  <BarchartApp />\n\t\t\t</DataContextProvider>\n\t\t  </Route>\n\t\t  {/* <Route path=\"/filteredResults/:prov/:year/:loadfilter?\">\n\t\t\t<DataContextProvider>\n\t\t\t  <FilteredResultsApp />\n\t\t\t</DataContextProvider>\n\t\t  </Route>\n\t\t  <Route path=\"/instantarticle/:prov/:year?\">\n\t\t\t<DataContextProvider>\n\t\t\t  <InstantArticle />\n\t\t\t</DataContextProvider>\n\t\t  </Route> */}\n\t\t</Switch>\n\t  </Router>\n\t);\n}\n\nconst Home = () => {\n  const [prov, setProv] = useState({prov: 'nb', year: 2020});\n\n\treturn (\n\t\t<div>\n      <div className=\"electionSelect\">\n        <FormControl className=\"electionSelect\">\n          <InputLabel id=\"demo-simple-select-label\">Select Election</InputLabel>\n          <Select\n            labelId=\"demo-simple-select-label\"\n            id=\"demo-simple-select\"\n            value={prov}\n            onChange={(e)=>setProv(e.target.value)}\n          >\n            {window.CONFIG.elections.map((el)=>{\n              return <MenuItem value={el}>{el.prov} - {el.year}</MenuItem>\n            })}\n          </Select>\n        </FormControl>\n      </div>\n      <div>\n        <ul>\n          <li>\n            <Link to={`/`}>Home</Link>\n          </li>\n          <li>\n            <Link to={`/map/${prov.prov}/${prov.year}`}>Map App</Link>\n          </li>\n          <li>\n            <Link to={`/barchart/${prov.prov}/${prov.year}`}>Barchart App</Link>\n          </li>\n          <li>\n            <Link to={`/graph/${prov.prov}/${prov.year}`}>Graph App</Link>\n          </li>\n          <li>\n            <Link to={`/seat/${prov.prov}/${prov.year}`}>Seat App</Link>\n          </li>\n          {/* <li>\n            <Link to=\"/instantarticle/2020\">Instant Article</Link>\n          </li>\n          <li>\n            <Link to=\"/filteredResults/2020\">Playlist Results</Link>\n          </li> */}\n        </ul>\n        </div>\n    \t</div>\n\t)\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}